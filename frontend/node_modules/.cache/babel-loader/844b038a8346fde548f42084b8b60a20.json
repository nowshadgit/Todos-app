{"ast":null,"code":"var _jsxFileName = \"/home/nowshad/Desktop/Company Projects/footprints/frontend/src/components/AssetDetails/AssetDetails.jsx\";\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport './AssetDetails.scss';\nimport { getFormatedDate } from '../../utils/common';\nimport { ASSET_STATUS, LOG_TYPE } from '../../utils/constants';\nimport DataNotFound from '../DataNotFound/DataNotFound';\n\nconst AssetDetails = props => {\n  const Data = props.Data,\n        historyData = props.historyData;\n  const AssetType = Data.asset_type,\n        Attributes = Data.attributes,\n        DueDate = Data.due_date,\n        Status = Data.state,\n        SubmittedDate = Data.submitted_date;\n  let customKey = 0;\n  const attributeElements = Attributes && Attributes.map(each => {\n    const Attribute = each.attribute,\n          AttributeValue = each.attribute_value;\n    customKey += 1;\n    return React.createElement(\"div\", {\n      className: \"asset-details-body row\",\n      key: customKey,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 24\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      className: \"asset-details-key col\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 25\n      },\n      __self: this\n    }, Attribute.name), React.createElement(\"span\", {\n      className: \"asset-details-key\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 26\n      },\n      __self: this\n    }, \":\"), React.createElement(\"span\", {\n      className: \"asset-details-value col\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 27\n      },\n      __self: this\n    }, AttributeValue.name));\n  });\n  let historyKey = 0;\n  const showHistory = historyData && historyData instanceof Array && historyData.map(eachLog => {\n    historyKey += 1;\n    const timestamp = eachLog.timestamp,\n          attributes = eachLog.attributes,\n          logType = eachLog.log_type,\n          agent = eachLog.agent,\n          OrgUnit = eachLog.org_unit,\n          assignee = eachLog.assignee,\n          notes = eachLog.notes;\n    let agentName = '';\n    let assigneeName = '';\n\n    if (agent) {\n      const firstName = agent.first_name,\n            lastName = agent.last_name;\n      agentName = \"\".concat(firstName, \" \").concat(lastName);\n    }\n\n    if (assigneeName) {\n      const firstName = assignee.first_name,\n            lastName = assignee.last_name;\n      assigneeName = \"\".concat(firstName, \" \").concat(lastName);\n    }\n\n    let logsAttributs = [];\n\n    if (attributes) {\n      logsAttributs = attributes instanceof Array && attributes.map(eachAttr => {\n        const Attribute = eachAttr.attribute,\n              AttributeValue = eachAttr.attribute_value;\n        customKey += 1;\n        return React.createElement(\"div\", {\n          className: \"history-log-body-value row\",\n          key: customKey,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 70\n          },\n          __self: this\n        }, React.createElement(\"span\", {\n          className: \"font-weight-bold col\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 71\n          },\n          __self: this\n        }, Attribute.name), React.createElement(\"span\", {\n          className: \"font-weight-bold\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 72\n          },\n          __self: this\n        }, \":\"), React.createElement(\"span\", {\n          className: \"col\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 73\n          },\n          __self: this\n        }, AttributeValue.name));\n      });\n    }\n\n    return React.createElement(\"div\", {\n      className: \"history-item row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"col col-4 ml-xl-n2 ml-md-n1 ml-n2 date-time\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81\n      },\n      __self: this\n    }, getFormatedDate(timestamp)), React.createElement(\"div\", {\n      className: \"\".concat(historyKey === historyData.length ? 'item-data last' : 'item-data', \" w-100 col col-7\"),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"border p-1 item-data-type\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89\n      },\n      __self: this\n    }, React.createElement(\"strong\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90\n      },\n      __self: this\n    }, LOG_TYPE[logType]), agentName && React.createElement(\"div\", {\n      className: \"asset-changed-by mb-1\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92\n      },\n      __self: this\n    }, \"Changed by\", ' ', React.createElement(\"span\", {\n      className: \"font-weight-bold\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94\n      },\n      __self: this\n    }, agentName)), logsAttributs.length > 0 && {\n      logsAttributs\n    }, OrgUnit && React.createElement(\"div\", {\n      className: \"history-log-body-key\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99\n      },\n      __self: this\n    }, \"Org unit:\", ' ', React.createElement(\"div\", {\n      className: \"history-log-body-value ml-2\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101\n      },\n      __self: this\n    }, ' ', OrgUnit.name, ' ')), assigneeName && React.createElement(\"div\", {\n      className: \"history-log-body-key\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108\n      },\n      __self: this\n    }, \"assignee:\", ' ', React.createElement(\"div\", {\n      className: \"history-log-body-value ml-2\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110\n      },\n      __self: this\n    }, ' ', assigneeName, ' ')), notes && React.createElement(\"div\", {\n      className: \"history-log-body-key\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 117\n      },\n      __self: this\n    }, \"notes:\", ' ', React.createElement(\"div\", {\n      className: \"history-log-body-value ml-2\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 119\n      },\n      __self: this\n    }, notes)))));\n  });\n  return React.createElement(\"div\", {\n    className: \"asset-details-page text-capitalize\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 128\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"row\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 129\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"col col-11 col-md-5 ml-2 p-2 details-title\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 130\n    },\n    __self: this\n  }, ' ', \"Details\", ' '), React.createElement(\"div\", {\n    className: \"col col-11 col-md-5 ml-2 p-2 details-title d-none d-md-block\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 134\n    },\n    __self: this\n  }, ' ', \"History\", ' ')), React.createElement(\"div\", {\n    className: \"row \",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 139\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"col col-11 col-md-5 ml-2 p-2 asset-detials\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 140\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"asset-details-body row\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 141\n    },\n    __self: this\n  }, React.createElement(\"span\", {\n    className: \"asset-details-key col\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 142\n    },\n    __self: this\n  }, \"asset type\"), React.createElement(\"span\", {\n    className: \"asset-details-key\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 143\n    },\n    __self: this\n  }, \":\"), React.createElement(\"span\", {\n    className: \"asset-details-value col\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 144\n    },\n    __self: this\n  }, AssetType ? AssetType.name : false)), React.createElement(\"div\", {\n    className: \"asset-details-body row\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 148\n    },\n    __self: this\n  }, React.createElement(\"span\", {\n    className: \"asset-details-key col\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 149\n    },\n    __self: this\n  }, \"Submitted Date\"), React.createElement(\"span\", {\n    className: \"asset-details-key\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 150\n    },\n    __self: this\n  }, \":\"), React.createElement(\"span\", {\n    className: \"asset-details-value col\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 151\n    },\n    __self: this\n  }, getFormatedDate(SubmittedDate))), React.createElement(\"div\", {\n    className: \"asset-details-body row\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 155\n    },\n    __self: this\n  }, React.createElement(\"span\", {\n    className: \"asset-details-key col\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 156\n    },\n    __self: this\n  }, \"Due Date\"), React.createElement(\"span\", {\n    className: \"asset-details-key\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 157\n    },\n    __self: this\n  }, \":\"), React.createElement(\"span\", {\n    className: \"asset-details-value col\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 158\n    },\n    __self: this\n  }, getFormatedDate(DueDate))), React.createElement(\"div\", {\n    className: \"asset-details-body row\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 162\n    },\n    __self: this\n  }, React.createElement(\"span\", {\n    className: \"asset-details-key col\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 163\n    },\n    __self: this\n  }, \"Status\"), React.createElement(\"span\", {\n    className: \"asset-details-key\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 164\n    },\n    __self: this\n  }, \":\"), React.createElement(\"span\", {\n    className: \"asset-details-value col\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 165\n    },\n    __self: this\n  }, ASSET_STATUS[Status])), React.createElement(\"div\", {\n    id: \"asset-attributs-title\",\n    className: \"mb-3 mt-3\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 170\n    },\n    __self: this\n  }, React.createElement(\"span\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 171\n    },\n    __self: this\n  }, \"Attributes\")), attributeElements && attributeElements.length > 0 ? attributeElements : React.createElement(\"span\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 176\n    },\n    __self: this\n  }, \"No attributes found\")), React.createElement(\"div\", {\n    className: \"col d-md-none mb-3 mt-3 details-title\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 179\n    },\n    __self: this\n  }, \" History \"), React.createElement(\"div\", {\n    className: \"card col col-11 col-md-5 ml-3 p-2 asset-history-detials sticky-top\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 180\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"events w-100\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 181\n    },\n    __self: this\n  }, showHistory && showHistory.length > 0 ? showHistory : React.createElement(DataNotFound, {\n    name: \"History\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 185\n    },\n    __self: this\n  })))));\n};\n\nAssetDetails.propTypes = {\n  Data: PropTypes.oneOfType([PropTypes.array, PropTypes.object]).isRequired,\n  historyData: PropTypes.oneOfType([PropTypes.array, PropTypes.object]).isRequired\n};\nexport default AssetDetails;","map":{"version":3,"sources":["/home/nowshad/Desktop/Company Projects/footprints/frontend/src/components/AssetDetails/AssetDetails.jsx"],"names":["React","PropTypes","getFormatedDate","ASSET_STATUS","LOG_TYPE","DataNotFound","AssetDetails","props","Data","historyData","AssetType","asset_type","Attributes","attributes","DueDate","due_date","Status","state","SubmittedDate","submitted_date","customKey","attributeElements","map","each","Attribute","attribute","AttributeValue","attribute_value","name","historyKey","showHistory","Array","eachLog","timestamp","logType","log_type","agent","OrgUnit","org_unit","assignee","notes","agentName","assigneeName","firstName","first_name","lastName","last_name","logsAttributs","eachAttr","length","propTypes","oneOfType","array","object","isRequired"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,SAAP,MAAsB,YAAtB;AACA,OAAO,qBAAP;AACA,SAASC,eAAT,QAAgC,oBAAhC;AACA,SAASC,YAAT,EAAuBC,QAAvB,QAAuC,uBAAvC;AACA,OAAOC,YAAP,MAAyB,8BAAzB;;AAEA,MAAMC,YAAY,GAAGC,KAAK,IAAI;AAAA,QACpBC,IADoB,GACED,KADF,CACpBC,IADoB;AAAA,QACdC,WADc,GACEF,KADF,CACdE,WADc;AAAA,QAGdC,SAHc,GAQxBF,IARwB,CAG1BG,UAH0B;AAAA,QAIdC,UAJc,GAQxBJ,IARwB,CAI1BK,UAJ0B;AAAA,QAKhBC,OALgB,GAQxBN,IARwB,CAK1BO,QAL0B;AAAA,QAMnBC,MANmB,GAQxBR,IARwB,CAM1BS,KAN0B;AAAA,QAOVC,aAPU,GAQxBV,IARwB,CAO1BW,cAP0B;AAS5B,MAAIC,SAAS,GAAG,CAAhB;AACA,QAAMC,iBAAiB,GACrBT,UAAU,IACVA,UAAU,CAACU,GAAX,CAAeC,IAAI,IAAI;AAAA,UACFC,SADE,GAC6CD,IAD7C,CACbE,SADa;AAAA,UAC0BC,cAD1B,GAC6CH,IAD7C,CACSI,eADT;AAErBP,IAAAA,SAAS,IAAI,CAAb;AACA,WACE;AAAK,MAAA,SAAS,EAAC,wBAAf;AAAwC,MAAA,GAAG,EAAEA,SAA7C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAM,MAAA,SAAS,EAAC,uBAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAyCI,SAAS,CAACI,IAAnD,CADF,EAEE;AAAM,MAAA,SAAS,EAAC,mBAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAFF,EAGE;AAAM,MAAA,SAAS,EAAC,yBAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAA2CF,cAAc,CAACE,IAA1D,CAHF,CADF;AAOD,GAVD,CAFF;AAcA,MAAIC,UAAU,GAAG,CAAjB;AACA,QAAMC,WAAW,GACfrB,WAAW,IACXA,WAAW,YAAYsB,KADvB,IAEAtB,WAAW,CAACa,GAAZ,CAAgBU,OAAO,IAAI;AACzBH,IAAAA,UAAU,IAAI,CAAd;AADyB,UAGvBI,SAHuB,GAUrBD,OAVqB,CAGvBC,SAHuB;AAAA,UAIvBpB,UAJuB,GAUrBmB,OAVqB,CAIvBnB,UAJuB;AAAA,UAKbqB,OALa,GAUrBF,OAVqB,CAKvBG,QALuB;AAAA,UAMvBC,KANuB,GAUrBJ,OAVqB,CAMvBI,KANuB;AAAA,UAObC,OAPa,GAUrBL,OAVqB,CAOvBM,QAPuB;AAAA,UAQvBC,QARuB,GAUrBP,OAVqB,CAQvBO,QARuB;AAAA,UASvBC,KATuB,GAUrBR,OAVqB,CASvBQ,KATuB;AAWzB,QAAIC,SAAS,GAAG,EAAhB;AACA,QAAIC,YAAY,GAAG,EAAnB;;AACA,QAAIN,KAAJ,EAAW;AAAA,YACWO,SADX,GAC8CP,KAD9C,CACDQ,UADC;AAAA,YACiCC,QADjC,GAC8CT,KAD9C,CACsBU,SADtB;AAETL,MAAAA,SAAS,aAAME,SAAN,cAAmBE,QAAnB,CAAT;AACD;;AAED,QAAIH,YAAJ,EAAkB;AAAA,YACIC,SADJ,GACuCJ,QADvC,CACRK,UADQ;AAAA,YAC0BC,QAD1B,GACuCN,QADvC,CACeO,SADf;AAEhBJ,MAAAA,YAAY,aAAMC,SAAN,cAAmBE,QAAnB,CAAZ;AACD;;AAED,QAAIE,aAAa,GAAG,EAApB;;AACA,QAAIlC,UAAJ,EAAgB;AACdkC,MAAAA,aAAa,GACXlC,UAAU,YAAYkB,KAAtB,IACAlB,UAAU,CAACS,GAAX,CAAe0B,QAAQ,IAAI;AAAA,cAEZxB,SAFY,GAIrBwB,QAJqB,CAEvBvB,SAFuB;AAAA,cAGNC,cAHM,GAIrBsB,QAJqB,CAGvBrB,eAHuB;AAKzBP,QAAAA,SAAS,IAAI,CAAb;AACA,eACE;AAAK,UAAA,SAAS,EAAC,4BAAf;AAA4C,UAAA,GAAG,EAAEA,SAAjD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACE;AAAM,UAAA,SAAS,EAAC,sBAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAAwCI,SAAS,CAACI,IAAlD,CADF,EAEE;AAAM,UAAA,SAAS,EAAC,kBAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eAFF,EAGE;AAAM,UAAA,SAAS,EAAC,KAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAAuBF,cAAc,CAACE,IAAtC,CAHF,CADF;AAOD,OAbD,CAFF;AAgBD;;AAED,WACE;AAAK,MAAA,SAAS,EAAC,kBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAK,MAAA,SAAS,EAAC,6CAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACG1B,eAAe,CAAC+B,SAAD,CADlB,CADF,EAIE;AACE,MAAA,SAAS,YACPJ,UAAU,KAAKpB,WAAW,CAACwC,MAA3B,GAAoC,gBAApC,GAAuD,WADhD,qBADX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAKE;AAAK,MAAA,SAAS,EAAC,2BAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAS7C,QAAQ,CAAC8B,OAAD,CAAjB,CADF,EAEGO,SAAS,IACR;AAAK,MAAA,SAAS,EAAC,uBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBACa,GADb,EAEE;AAAM,MAAA,SAAS,EAAC,kBAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAoCA,SAApC,CAFF,CAHJ,EAQGM,aAAa,CAACE,MAAd,GAAuB,CAAvB,IAA4B;AAAEF,MAAAA;AAAF,KAR/B,EASGV,OAAO,IACN;AAAK,MAAA,SAAS,EAAC,sBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACY,GADZ,EAEE;AAAK,MAAA,SAAS,EAAC,6BAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACG,GADH,EAEGA,OAAO,CAACT,IAFX,EAEiB,GAFjB,CAFF,CAVJ,EAkBGc,YAAY,IACX;AAAK,MAAA,SAAS,EAAC,sBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACY,GADZ,EAEE;AAAK,MAAA,SAAS,EAAC,6BAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACG,GADH,EAEGA,YAFH,EAEiB,GAFjB,CAFF,CAnBJ,EA2BGF,KAAK,IACJ;AAAK,MAAA,SAAS,EAAC,sBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBACS,GADT,EAEE;AAAK,MAAA,SAAS,EAAC,6BAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAA8CA,KAA9C,CAFF,CA5BJ,CALF,CAJF,CADF;AA+CD,GA1FD,CAHF;AA8FA,SACE;AAAK,IAAA,SAAS,EAAC,oCAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAK,IAAA,SAAS,EAAC,KAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAK,IAAA,SAAS,EAAC,4CAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACG,GADH,aAEU,GAFV,CADF,EAKE;AAAK,IAAA,SAAS,EAAC,8DAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACG,GADH,aAEU,GAFV,CALF,CADF,EAWE;AAAK,IAAA,SAAS,EAAC,MAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAK,IAAA,SAAS,EAAC,4CAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAK,IAAA,SAAS,EAAC,wBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAM,IAAA,SAAS,EAAC,uBAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBADF,EAEE;AAAM,IAAA,SAAS,EAAC,mBAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAFF,EAGE;AAAM,IAAA,SAAS,EAAC,yBAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACG9B,SAAS,GAAGA,SAAS,CAACkB,IAAb,GAAoB,KADhC,CAHF,CADF,EAQE;AAAK,IAAA,SAAS,EAAC,wBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAM,IAAA,SAAS,EAAC,uBAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBADF,EAEE;AAAM,IAAA,SAAS,EAAC,mBAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAFF,EAGE;AAAM,IAAA,SAAS,EAAC,yBAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACG1B,eAAe,CAACgB,aAAD,CADlB,CAHF,CARF,EAeE;AAAK,IAAA,SAAS,EAAC,wBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAM,IAAA,SAAS,EAAC,uBAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBADF,EAEE;AAAM,IAAA,SAAS,EAAC,mBAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAFF,EAGE;AAAM,IAAA,SAAS,EAAC,yBAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACGhB,eAAe,CAACY,OAAD,CADlB,CAHF,CAfF,EAsBE;AAAK,IAAA,SAAS,EAAC,wBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAM,IAAA,SAAS,EAAC,uBAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cADF,EAEE;AAAM,IAAA,SAAS,EAAC,mBAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAFF,EAGE;AAAM,IAAA,SAAS,EAAC,yBAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACGX,YAAY,CAACa,MAAD,CADf,CAHF,CAtBF,EA8BE;AAAK,IAAA,EAAE,EAAC,uBAAR;AAAgC,IAAA,SAAS,EAAC,WAA1C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBADF,CA9BF,EAiCGK,iBAAiB,IAAIA,iBAAiB,CAAC4B,MAAlB,GAA2B,CAAhD,GACC5B,iBADD,GAGC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,2BApCJ,CADF,EAwCE;AAAK,IAAA,SAAS,EAAC,uCAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBAxCF,EAyCE;AAAK,IAAA,SAAS,EAAC,oEAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAK,IAAA,SAAS,EAAC,cAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACGS,WAAW,IAAIA,WAAW,CAACmB,MAAZ,GAAqB,CAApC,GACCnB,WADD,GAGC,oBAAC,YAAD;AAAc,IAAA,IAAI,EAAC,SAAnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAJJ,CADF,CAzCF,CAXF,CADF;AAiED,CAxLD;;AA0LAxB,YAAY,CAAC4C,SAAb,GAAyB;AACvB1C,EAAAA,IAAI,EAAEP,SAAS,CAACkD,SAAV,CAAoB,CAAClD,SAAS,CAACmD,KAAX,EAAkBnD,SAAS,CAACoD,MAA5B,CAApB,EAAyDC,UADxC;AAEvB7C,EAAAA,WAAW,EAAER,SAAS,CAACkD,SAAV,CAAoB,CAAClD,SAAS,CAACmD,KAAX,EAAkBnD,SAAS,CAACoD,MAA5B,CAApB,EACVC;AAHoB,CAAzB;AAMA,eAAehD,YAAf","sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\nimport './AssetDetails.scss';\nimport { getFormatedDate } from '../../utils/common';\nimport { ASSET_STATUS, LOG_TYPE } from '../../utils/constants';\nimport DataNotFound from '../DataNotFound/DataNotFound';\n\nconst AssetDetails = props => {\n  const { Data, historyData } = props;\n  const {\n    asset_type: AssetType,\n    attributes: Attributes,\n    due_date: DueDate,\n    state: Status,\n    submitted_date: SubmittedDate\n  } = Data;\n  let customKey = 0;\n  const attributeElements =\n    Attributes &&\n    Attributes.map(each => {\n      const { attribute: Attribute, attribute_value: AttributeValue } = each;\n      customKey += 1;\n      return (\n        <div className=\"asset-details-body row\" key={customKey}>\n          <span className=\"asset-details-key col\">{Attribute.name}</span>\n          <span className=\"asset-details-key\">:</span>\n          <span className=\"asset-details-value col\">{AttributeValue.name}</span>\n        </div>\n      );\n    });\n\n  let historyKey = 0;\n  const showHistory =\n    historyData &&\n    historyData instanceof Array &&\n    historyData.map(eachLog => {\n      historyKey += 1;\n      const {\n        timestamp,\n        attributes,\n        log_type: logType,\n        agent,\n        org_unit: OrgUnit,\n        assignee,\n        notes\n      } = eachLog;\n      let agentName = '';\n      let assigneeName = '';\n      if (agent) {\n        const { first_name: firstName, last_name: lastName } = agent;\n        agentName = `${firstName} ${lastName}`;\n      }\n\n      if (assigneeName) {\n        const { first_name: firstName, last_name: lastName } = assignee;\n        assigneeName = `${firstName} ${lastName}`;\n      }\n\n      let logsAttributs = [];\n      if (attributes) {\n        logsAttributs =\n          attributes instanceof Array &&\n          attributes.map(eachAttr => {\n            const {\n              attribute: Attribute,\n              attribute_value: AttributeValue\n            } = eachAttr;\n            customKey += 1;\n            return (\n              <div className=\"history-log-body-value row\" key={customKey}>\n                <span className=\"font-weight-bold col\">{Attribute.name}</span>\n                <span className=\"font-weight-bold\">:</span>\n                <span className=\"col\">{AttributeValue.name}</span>\n              </div>\n            );\n          });\n      }\n\n      return (\n        <div className=\"history-item row\">\n          <div className=\"col col-4 ml-xl-n2 ml-md-n1 ml-n2 date-time\">\n            {getFormatedDate(timestamp)}\n          </div>\n          <div\n            className={`${\n              historyKey === historyData.length ? 'item-data last' : 'item-data'\n            } w-100 col col-7`}\n          >\n            <div className=\"border p-1 item-data-type\">\n              <strong>{LOG_TYPE[logType]}</strong>\n              {agentName && (\n                <div className=\"asset-changed-by mb-1\">\n                  Changed by{' '}\n                  <span className=\"font-weight-bold\">{agentName}</span>\n                </div>\n              )}\n              {logsAttributs.length > 0 && { logsAttributs }}\n              {OrgUnit && (\n                <div className=\"history-log-body-key\">\n                  Org unit:{' '}\n                  <div className=\"history-log-body-value ml-2\">\n                    {' '}\n                    {OrgUnit.name}{' '}\n                  </div>\n                </div>\n              )}\n              {assigneeName && (\n                <div className=\"history-log-body-key\">\n                  assignee:{' '}\n                  <div className=\"history-log-body-value ml-2\">\n                    {' '}\n                    {assigneeName}{' '}\n                  </div>\n                </div>\n              )}\n              {notes && (\n                <div className=\"history-log-body-key\">\n                  notes:{' '}\n                  <div className=\"history-log-body-value ml-2\">{notes}</div>\n                </div>\n              )}\n            </div>\n          </div>\n        </div>\n      );\n    });\n  return (\n    <div className=\"asset-details-page text-capitalize\">\n      <div className=\"row\">\n        <div className=\"col col-11 col-md-5 ml-2 p-2 details-title\">\n          {' '}\n          Details{' '}\n        </div>\n        <div className=\"col col-11 col-md-5 ml-2 p-2 details-title d-none d-md-block\">\n          {' '}\n          History{' '}\n        </div>\n      </div>\n      <div className=\"row \">\n        <div className=\"col col-11 col-md-5 ml-2 p-2 asset-detials\">\n          <div className=\"asset-details-body row\">\n            <span className=\"asset-details-key col\">asset type</span>\n            <span className=\"asset-details-key\">:</span>\n            <span className=\"asset-details-value col\">\n              {AssetType ? AssetType.name : false}\n            </span>\n          </div>\n          <div className=\"asset-details-body row\">\n            <span className=\"asset-details-key col\">Submitted Date</span>\n            <span className=\"asset-details-key\">:</span>\n            <span className=\"asset-details-value col\">\n              {getFormatedDate(SubmittedDate)}\n            </span>\n          </div>\n          <div className=\"asset-details-body row\">\n            <span className=\"asset-details-key col\">Due Date</span>\n            <span className=\"asset-details-key\">:</span>\n            <span className=\"asset-details-value col\">\n              {getFormatedDate(DueDate)}\n            </span>\n          </div>\n          <div className=\"asset-details-body row\">\n            <span className=\"asset-details-key col\">Status</span>\n            <span className=\"asset-details-key\">:</span>\n            <span className=\"asset-details-value col\">\n              {ASSET_STATUS[Status]}\n            </span>\n          </div>\n\n          <div id=\"asset-attributs-title\" className=\"mb-3 mt-3\">\n            <span>Attributes</span>\n          </div>\n          {attributeElements && attributeElements.length > 0 ? (\n            attributeElements\n          ) : (\n            <span>No attributes found</span>\n          )}\n        </div>\n        <div className=\"col d-md-none mb-3 mt-3 details-title\"> History </div>\n        <div className=\"card col col-11 col-md-5 ml-3 p-2 asset-history-detials sticky-top\">\n          <div className=\"events w-100\">\n            {showHistory && showHistory.length > 0 ? (\n              showHistory\n            ) : (\n              <DataNotFound name=\"History\" />\n            )}\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nAssetDetails.propTypes = {\n  Data: PropTypes.oneOfType([PropTypes.array, PropTypes.object]).isRequired,\n  historyData: PropTypes.oneOfType([PropTypes.array, PropTypes.object])\n    .isRequired\n};\n\nexport default AssetDetails;\n"]},"metadata":{},"sourceType":"module"}