{"ast":null,"code":"var _jsxFileName = \"/home/nowshad/Desktop/Todo/frontend/src/containers/Todos/Todos.jsx\";\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport { withRouter } from 'react-router-dom';\nimport pageConfig from '../../utils/pageConfig';\nimport PageLoader from '../../components/PageLoader/PageLoader';\nimport PageHeader from '../../components/PageHeader/PageHeader';\nimport { getActionsFormate } from '../../utils/common';\nimport { onPagination, onPageChange } from '../../utils/utils';\nimport { DATA_NOT_FOUND } from '../../utils/constants';\nimport ACTIONS from '../../apiConfig/actions.constants';\nimport Todo from '../../components/Todo/Todo';\nimport DataNotFound from '../../components/DataNotFound/DataNotFound';\n\nclass Todos extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.fetchTodos = () => {\n      const _this$props = this.props,\n            getTodosList = _this$props.getTodosList,\n            page = _this$props.page;\n      const offset = (this.state.currentPage - 1) * 10;\n      getTodosList(ACTIONS.TODOS.GET_TODOS, {\n        limit: this.state.perPage,\n        offset,\n        page\n      });\n    };\n\n    this.state = {\n      perPage: 10,\n      currentPage: 1,\n      start: 1,\n      end: 5\n    };\n    this.onPagination = onPagination.bind(this);\n    this.onPageChange = onPageChange.bind(this);\n  }\n\n  componentDidMount() {\n    this.fetchTodos();\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    if (this.state.currentPage !== prevState.currentPage) {\n      this.fetchTodos();\n    }\n  }\n\n  render() {\n    const _this$props2 = this.props,\n          page = _this$props2.page,\n          inProgress = _this$props2.inProgress,\n          Data = _this$props2.Data;\n    const _pageConfig$page = pageConfig[page],\n          pageTitle = _pageConfig$page.pageTitle,\n          headerActions = _pageConfig$page.headerActions,\n          redirect = _pageConfig$page.redirect;\n    const totalPages = Data && Data.pdf_storages ? Math.ceil(Data.pdf_storages.count / this.state.perPage) : 0;\n    const paginationData = {\n      start: this.state.start,\n      end: totalPages > 5 ? this.state.end : totalPages,\n      currentPage: this.state.currentPage,\n      onPagination: this.onPagination,\n      onPageChange: this.onPageChange,\n      totalPages: totalPages < 1 ? 1 : totalPages\n    }; // const data = [\n    //   {title:\"Nowshad\", description: \"Okajhsd\"},\n    //   {title:\"Nowshad\", description: \"Okajhsd\"},\n    //   {title:\"Nowshad\", description: \"Okajhsd\"},\n    //   {title:\"Nowshad\", description: \"Okajhsd\"},\n    //   {title:\"Nowshad\", description: \"Okajhsd\"},\n    //   {title:\"Nowshad\", description: \"Okajhsd\"},\n    // ]\n\n    let todoKey = 0;\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76\n      },\n      __self: this\n    }, React.createElement(PageLoader, {\n      inProgress: false,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77\n      },\n      __self: this\n    }), React.createElement(PageHeader, Object.assign({}, this.props, {\n      title: pageTitle,\n      actions: headerActions,\n      redirect: redirect,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"row todo-list\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85\n      },\n      __self: this\n    }, data && data.map(each => {\n      todoKey++;\n      return React.createElement(Todo, {\n        data: each,\n        key: todoKey,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 88\n        },\n        __self: this\n      });\n    })), !(data && data.length > 0) && React.createElement(DataNotFound, {\n      name: \"Todos\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91\n      },\n      __self: this\n    }));\n  }\n\n}\n\nTodos.propTypes = {\n  getTodosList: PropTypes.func.isRequired,\n  page: PropTypes.string.isRequired,\n  match: PropTypes.object.isRequired,\n  inProgress: PropTypes.bool.isRequired,\n  Data: PropTypes.object,\n  history: PropTypes.object.isRequired\n};\nTodos.defaultProps = {\n  Data: {}\n};\n\nconst mapStateToProps = state => ({\n  Data: state.todosReducerStore.data,\n  inProgress: state.todosReducerStore.inProgress\n});\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    getTodosList: (type, data) => {\n      dispatch(getActionsFormate(type, data));\n    },\n    resetState: type => {\n      dispatch(getActionsFormate(type));\n    }\n  };\n};\n\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)(Todos));","map":{"version":3,"sources":["/home/nowshad/Desktop/Todo/frontend/src/containers/Todos/Todos.jsx"],"names":["React","PropTypes","connect","withRouter","pageConfig","PageLoader","PageHeader","getActionsFormate","onPagination","onPageChange","DATA_NOT_FOUND","ACTIONS","Todo","DataNotFound","Todos","Component","constructor","props","fetchTodos","getTodosList","page","offset","state","currentPage","TODOS","GET_TODOS","limit","perPage","start","end","bind","componentDidMount","componentDidUpdate","prevProps","prevState","render","inProgress","Data","pageTitle","headerActions","redirect","totalPages","pdf_storages","Math","ceil","count","paginationData","todoKey","data","map","each","length","propTypes","func","isRequired","string","match","object","bool","history","defaultProps","mapStateToProps","todosReducerStore","mapDispatchToProps","dispatch","type","resetState"],"mappings":"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","sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport { withRouter } from 'react-router-dom';\nimport pageConfig from '../../utils/pageConfig';\nimport PageLoader from '../../components/PageLoader/PageLoader';\nimport PageHeader from '../../components/PageHeader/PageHeader';\nimport { getActionsFormate } from '../../utils/common';\nimport {\n  onPagination,\n  onPageChange,\n} from '../../utils/utils';\nimport { DATA_NOT_FOUND } from '../../utils/constants';\nimport ACTIONS from '../../apiConfig/actions.constants';\nimport Todo from '../../components/Todo/Todo';\nimport DataNotFound from '../../components/DataNotFound/DataNotFound';\n\nclass Todos extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      perPage: 10,\n      currentPage: 1,\n      start: 1,\n      end: 5\n    };\n    this.onPagination = onPagination.bind(this);\n    this.onPageChange = onPageChange.bind(this);\n  }\n\n  componentDidMount() {\n    this.fetchTodos();\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    if (this.state.currentPage !== prevState.currentPage) {\n      this.fetchTodos();\n    }\n  }\n\n  fetchTodos = () => {\n    const { getTodosList, page } = this.props;\n    const offset = (this.state.currentPage - 1) * 10;\n    getTodosList(ACTIONS.TODOS.GET_TODOS, {\n      limit: this.state.perPage,\n      offset,\n      page,\n    });\n  };\n\n  render() {\n    const { page, inProgress, Data } = this.props;\n    const { pageTitle, headerActions, redirect } = pageConfig[page];\n    const totalPages =\n      Data && Data.pdf_storages\n        ? Math.ceil(Data.pdf_storages.count / this.state.perPage)\n        : 0;\n    const paginationData = {\n      start: this.state.start,\n      end: totalPages > 5 ? this.state.end : totalPages,\n      currentPage: this.state.currentPage,\n      onPagination: this.onPagination,\n      onPageChange: this.onPageChange,\n      totalPages: totalPages < 1 ? 1 : totalPages\n    };\n    // const data = [\n    //   {title:\"Nowshad\", description: \"Okajhsd\"},\n    //   {title:\"Nowshad\", description: \"Okajhsd\"},\n    //   {title:\"Nowshad\", description: \"Okajhsd\"},\n    //   {title:\"Nowshad\", description: \"Okajhsd\"},\n    //   {title:\"Nowshad\", description: \"Okajhsd\"},\n    //   {title:\"Nowshad\", description: \"Okajhsd\"},\n    // ]\n    let todoKey = 0;\n    return (\n      <div>\n        <PageLoader inProgress={false} />\n        <PageHeader\n          {...this.props}\n          title={pageTitle}\n          actions={headerActions}\n          redirect={redirect}\n        />\n        \n        <div className=\"row todo-list\">\n        {data && data.map(each=>{\n          todoKey++;\n          return <Todo data={each} key={todoKey}/>\n        })}\n        </div>\n        {!(data && data.length > 0) && <DataNotFound name={\"Todos\"} />}\n      </div>\n    );\n  }\n}\n\nTodos.propTypes = {\n  getTodosList: PropTypes.func.isRequired,\n  page: PropTypes.string.isRequired,\n  match: PropTypes.object.isRequired,\n  inProgress: PropTypes.bool.isRequired,\n  Data: PropTypes.object,\n  history: PropTypes.object.isRequired\n};\n\nTodos.defaultProps = {\n  Data: {}\n};\nconst mapStateToProps = state => ({\n  Data: state.todosReducerStore.data,\n  inProgress: state.todosReducerStore.inProgress\n});\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    getTodosList: (type, data) => {\n      dispatch(getActionsFormate(type, data));\n    },\n    resetState: type => {\n      dispatch(getActionsFormate(type));\n    }\n  };\n};\n\nexport default withRouter(\n  connect(\n    mapStateToProps,\n    mapDispatchToProps\n  )(Todos)\n);\n"]},"metadata":{},"sourceType":"module"}