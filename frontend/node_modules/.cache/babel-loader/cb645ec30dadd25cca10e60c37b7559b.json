{"ast":null,"code":"import _defineProperty from \"/home/nowshad/Desktop/Company Projects/footprints/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nvar _jsxFileName = \"/home/nowshad/Desktop/Company Projects/footprints/frontend/src/containers/Details/Details.jsx\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(source, true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(source).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport { withRouter } from 'react-router-dom';\nimport { getActionsFormate } from '../../utils/common';\nimport pageConfig from '../../utils/pageConfig';\nimport PageHeader from '../../components/PageHeader/PageHeader';\nimport { PAGE, DATA_NOT_FOUND } from '../../utils/constants';\nimport PageLoader from '../../components/PageLoader/PageLoader';\nimport { getBodyComponenet } from '../../utils/utils';\nimport ACTIONS from '../../apiConfig/actions.constants';\n\nclass Details extends React.Component {\n  componentDidMount() {\n    const _this$props = this.props,\n          getDetials = _this$props.getDetials,\n          match = _this$props.match,\n          page = _this$props.page,\n          getHistory = _this$props.getHistory;\n    const actions = pageConfig[page].actions;\n    const params = match.params;\n    const dType = actions && actions.fetchDetails;\n    const hType = actions && actions.fetchHistory;\n\n    if (hType) {\n      getHistory(hType, _objectSpread({}, params, {\n        page\n      }));\n    }\n\n    getDetials(dType, _objectSpread({}, params, {\n      page\n    }));\n  }\n\n  componentDidUpdate(prevProps) {\n    if (prevProps.match.url !== this.props.match.url) {\n      const _this$props2 = this.props,\n            getDetials = _this$props2.getDetials,\n            match = _this$props2.match,\n            page = _this$props2.page,\n            getHistory = _this$props2.getHistory;\n      const actions = pageConfig[page].actions;\n      const params = match.params;\n      const dType = actions && actions.fetchDetails;\n      const hType = actions && actions.fetchHistory;\n\n      if (hType) {\n        getHistory(hType, _objectSpread({}, params, {\n          page\n        }));\n      }\n\n      getDetials(dType, _objectSpread({}, params, {\n        page\n      }));\n    }\n  }\n\n  componentWillUnmount() {\n    this.props.resetState(ACTIONS.DETAILS.RESET_STATE);\n  }\n\n  render() {\n    const _this$props3 = this.props,\n          page = _this$props3.page,\n          Data = _this$props3.Data,\n          inProgress = _this$props3.inProgress,\n          match = _this$props3.match;\n    const _pageConfig$page = pageConfig[page],\n          pageTitle = _pageConfig$page.pageTitle,\n          headerActions = _pageConfig$page.headerActions,\n          Component = _pageConfig$page.component,\n          redirect = _pageConfig$page.redirect,\n          bodyHandler = _pageConfig$page.bodyHandler,\n          formateFunc = _pageConfig$page.formateFunc;\n    const params = match.params;\n    const isDetailsFound = Data && Object.values(Data).length > 0;\n    const fullName = page === PAGE.USER_DETAILS && Data && (Data.first_name || Data.last_name) ? \"\".concat(Data.first_name, \" \").concat(Data.last_name) : '';\n    const assetAttributeTitle = page === PAGE.ASSET_ATTRIBUTE_DETAILS && Data ? Data.name : '';\n    const assetTypeTitle = page === PAGE.ASSET_TYPES_DETAILS && Data ? Data.doc_type : '';\n    let AssetDetailsTitle = page === PAGE.ASSET_DETAILS && params.assetId ? params.assetId.slice(0, 7) : '';\n    AssetDetailsTitle = Data && Data.name ? \"\".concat(Data.name, \" - \").concat(AssetDetailsTitle) : AssetDetailsTitle;\n    const OrgUnitDetailsTitle = page === PAGE.ORG_UNITS_DETAILS && Data ? Data.name : '';\n    const title = isDetailsFound ? fullName || assetAttributeTitle || assetTypeTitle || OrgUnitDetailsTitle || AssetDetailsTitle || pageTitle : pageTitle;\n    return React.createElement(\"div\", {\n      className: \"details\",\n      id: \"show-details\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86\n      },\n      __self: this\n    }, React.createElement(PageLoader, {\n      inProgress: inProgress,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87\n      },\n      __self: this\n    }), React.createElement(PageHeader, Object.assign({}, this.props, {\n      title: title,\n      actions: headerActions,\n      redirect: redirect,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88\n      },\n      __self: this\n    })), getBodyComponenet(React.createElement(Component, Object.assign({}, this.props, {\n      Data: Data,\n      actions: bodyHandler,\n      cardFormate: formateFunc,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95\n      },\n      __self: this\n    })), isDetailsFound, DATA_NOT_FOUND[page]));\n  }\n\n}\n\nDetails.propTypes = {\n  Data: PropTypes.oneOfType([PropTypes.array, PropTypes.object]),\n  getDetials: PropTypes.func,\n  page: PropTypes.string,\n  match: PropTypes.object,\n  redirect: PropTypes.func,\n  inProgress: PropTypes.bool,\n  getHistory: PropTypes.func,\n  historyData: PropTypes.oneOfType([PropTypes.array, PropTypes.object]),\n  resetState: PropTypes.func\n};\n\nconst mapStateToProps = state => ({\n  Data: state.DetailsReducerStore.data,\n  inProgress: state.DetailsReducerStore.inProgress,\n  historyData: state.commonReducerStore.data\n});\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    getDetials: (dtype, data) => {\n      dispatch(getActionsFormate(dtype, data));\n    },\n    resetState: type => {\n      dispatch(getActionsFormate(type));\n    },\n    getHistory: (hType, data) => {\n      dispatch(getActionsFormate(hType, data));\n    }\n  };\n};\n\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)(Details));","map":{"version":3,"sources":["/home/nowshad/Desktop/Company Projects/footprints/frontend/src/containers/Details/Details.jsx"],"names":["React","PropTypes","connect","withRouter","getActionsFormate","pageConfig","PageHeader","PAGE","DATA_NOT_FOUND","PageLoader","getBodyComponenet","ACTIONS","Details","Component","componentDidMount","props","getDetials","match","page","getHistory","actions","params","dType","fetchDetails","hType","fetchHistory","componentDidUpdate","prevProps","url","componentWillUnmount","resetState","DETAILS","RESET_STATE","render","Data","inProgress","pageTitle","headerActions","component","redirect","bodyHandler","formateFunc","isDetailsFound","Object","values","length","fullName","USER_DETAILS","first_name","last_name","assetAttributeTitle","ASSET_ATTRIBUTE_DETAILS","name","assetTypeTitle","ASSET_TYPES_DETAILS","doc_type","AssetDetailsTitle","ASSET_DETAILS","assetId","slice","OrgUnitDetailsTitle","ORG_UNITS_DETAILS","title","propTypes","oneOfType","array","object","func","string","bool","historyData","mapStateToProps","state","DetailsReducerStore","data","commonReducerStore","mapDispatchToProps","dispatch","dtype","type"],"mappings":"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","sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport { withRouter } from 'react-router-dom';\nimport { getActionsFormate } from '../../utils/common';\nimport pageConfig from '../../utils/pageConfig';\nimport PageHeader from '../../components/PageHeader/PageHeader';\nimport { PAGE, DATA_NOT_FOUND } from '../../utils/constants';\nimport PageLoader from '../../components/PageLoader/PageLoader';\nimport { getBodyComponenet } from '../../utils/utils';\nimport ACTIONS from '../../apiConfig/actions.constants';\n\nclass Details extends React.Component {\n  componentDidMount() {\n    const { getDetials, match, page, getHistory } = this.props;\n    const { actions } = pageConfig[page];\n    const { params } = match;\n    const dType = actions && actions.fetchDetails;\n    const hType = actions && actions.fetchHistory;\n    if (hType) {\n      getHistory(hType, { ...params, page });\n    }\n    getDetials(dType, { ...params, page });\n  }\n\n  componentDidUpdate(prevProps) {\n    if (prevProps.match.url !== this.props.match.url) {\n      const { getDetials, match, page, getHistory } = this.props;\n      const { actions } = pageConfig[page];\n      const { params } = match;\n      const dType = actions && actions.fetchDetails;\n      const hType = actions && actions.fetchHistory;\n      if (hType) {\n        getHistory(hType, { ...params, page });\n      }\n      getDetials(dType, { ...params, page });\n    }\n  }\n\n  componentWillUnmount() {\n    this.props.resetState(ACTIONS.DETAILS.RESET_STATE);\n  }\n\n  render() {\n    const { page, Data, inProgress, match } = this.props;\n    const {\n      pageTitle,\n      headerActions,\n      component: Component,\n      redirect,\n      bodyHandler,\n      formateFunc\n    } = pageConfig[page];\n    const { params } = match;\n    const isDetailsFound = Data && Object.values(Data).length > 0;\n    const fullName =\n      page === PAGE.USER_DETAILS && Data && (Data.first_name || Data.last_name)\n        ? `${Data.first_name} ${Data.last_name}`\n        : '';\n    const assetAttributeTitle =\n      page === PAGE.ASSET_ATTRIBUTE_DETAILS && Data ? Data.name : '';\n    const assetTypeTitle =\n      page === PAGE.ASSET_TYPES_DETAILS && Data ? Data.doc_type : '';\n    let AssetDetailsTitle =\n      page === PAGE.ASSET_DETAILS && params.assetId\n        ? params.assetId.slice(0, 7)\n        : '';\n    AssetDetailsTitle =\n      Data && Data.name\n        ? `${Data.name} - ${AssetDetailsTitle}`\n        : AssetDetailsTitle;\n\n    const OrgUnitDetailsTitle =\n      page === PAGE.ORG_UNITS_DETAILS && Data ? Data.name : '';\n\n    const title = isDetailsFound\n      ? fullName ||\n        assetAttributeTitle ||\n        assetTypeTitle ||\n        OrgUnitDetailsTitle ||\n        AssetDetailsTitle ||\n        pageTitle\n      : pageTitle;\n\n    return (\n      <div className=\"details\" id=\"show-details\">\n        <PageLoader inProgress={inProgress} />\n        <PageHeader\n          {...this.props}\n          title={title}\n          actions={headerActions}\n          redirect={redirect}\n        />\n        {getBodyComponenet(\n          <Component\n            {...this.props}\n            Data={Data}\n            actions={bodyHandler}\n            cardFormate={formateFunc}\n          />,\n          isDetailsFound,\n          DATA_NOT_FOUND[page]\n        )}\n      </div>\n    );\n  }\n}\n\nDetails.propTypes = {\n  Data: PropTypes.oneOfType([PropTypes.array, PropTypes.object]),\n  getDetials: PropTypes.func,\n  page: PropTypes.string,\n  match: PropTypes.object,\n  redirect: PropTypes.func,\n  inProgress: PropTypes.bool,\n  getHistory: PropTypes.func,\n  historyData: PropTypes.oneOfType([PropTypes.array, PropTypes.object])\n    ,\n  resetState: PropTypes.func\n};\n\nconst mapStateToProps = state => ({\n  Data: state.DetailsReducerStore.data,\n  inProgress: state.DetailsReducerStore.inProgress,\n  historyData: state.commonReducerStore.data\n});\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    getDetials: (dtype, data) => {\n      dispatch(getActionsFormate(dtype, data));\n    },\n    resetState: type => {\n      dispatch(getActionsFormate(type));\n    },\n    getHistory: (hType, data) => {\n      dispatch(getActionsFormate(hType, data));\n    }\n  };\n};\n\nexport default withRouter(\n  connect(\n    mapStateToProps,\n    mapDispatchToProps\n  )(Details)\n);\n"]},"metadata":{},"sourceType":"module"}