{"ast":null,"code":"var _jsxFileName = \"/home/nowshad/Desktop/Company Projects/footprints/frontend/src/components/CustomLogs/CustomLogs.jsx\";\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport { faUser, faFileAlt } from '@fortawesome/free-regular-svg-icons';\nimport { faMapMarkerAlt, faCodeBranch } from '@fortawesome/free-solid-svg-icons';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { getFormatedDate } from '../../utils/common';\nimport { LOG_TYPE } from '../../utils/constants';\nimport DataNotFound from '../DataNotFound/DataNotFound';\nimport './CustomLogs.scss';\n\nconst CustomLogs = props => {\n  const historyData = props.historyData;\n  let historyKey = 0;\n  const showHistory = historyData && historyData.results && historyData.results instanceof Array && historyData.results.map(eachLog => {\n    historyKey += 1;\n    const timestamp = eachLog.timestamp,\n          attributes = eachLog.attributes,\n          logType = eachLog.log_type,\n          agent = eachLog.agent,\n          OrgUnit = eachLog.org_unit,\n          assignee = eachLog.assignee,\n          logs = eachLog.logs;\n    let agentName = '';\n    let assigneeName = '';\n\n    if (agent) {\n      const firstName = agent.first_name,\n            lastName = agent.last_name;\n      agentName = \"\".concat(firstName, \" \").concat(lastName);\n    }\n\n    if (assignee) {\n      const firstName = assignee.first_name,\n            lastName = assignee.last_name;\n      assigneeName = \"\".concat(firstName, \" \").concat(lastName);\n    }\n\n    let logsAttributs = [];\n    let attributeKey = 0;\n\n    if (attributes) {\n      logsAttributs = attributes instanceof Array && attributes.map(eachAttr => {\n        const Attribute = eachAttr.attribute,\n              AttributeValue = eachAttr.attribute_value;\n        attributeKey += 1;\n        return React.createElement(\"div\", {\n          className: \"history-log-body-value row\",\n          key: attributeKey,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 56\n          },\n          __self: this\n        }, React.createElement(\"span\", {\n          className: \"font-weight-bold col\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 57\n          },\n          __self: this\n        }, Attribute.name), React.createElement(\"span\", {\n          className: \"font-weight-bold\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 58\n          },\n          __self: this\n        }, \":\"), React.createElement(\"span\", {\n          className: \"col\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 59\n          },\n          __self: this\n        }, AttributeValue.name));\n      });\n    }\n\n    let attributeLogKey = 0;\n    const attributesLogs = logs && logs.attributes && logs.attributes.map(eachAtrlog => {\n      const attribute = eachAtrlog.attribute,\n            oldAttVal = eachAtrlog.old_attribute_value,\n            newAttVal = eachAtrlog.new_attribute_value;\n      attributeLogKey += 1;\n      return React.createElement(\"div\", {\n        className: \"history-log-log-header ml-n4 col mb-2\",\n        key: attributeLogKey,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 75\n        },\n        __self: this\n      }, \"The\", ' ', React.createElement(\"span\", {\n        className: \"history-log-log-value\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 80\n        },\n        __self: this\n      }, attribute || ' \"-\"'), ' ', \"value changed from\", ' ', React.createElement(\"span\", {\n        className: \"history-log-log-value\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 84\n        },\n        __self: this\n      }, oldAttVal || ' \"-\"'), ' ', \"to\", ' ', React.createElement(\"span\", {\n        className: \"history-log-log-value\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 88\n        },\n        __self: this\n      }, newAttVal || ' \"-\"'));\n    });\n    return React.createElement(\"div\", {\n      className: \"history-item row \",\n      key: historyKey,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"col col-4 ml-xl-n2 ml-md-n1 ml-n2 date-time\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98\n      },\n      __self: this\n    }, getFormatedDate(timestamp).formatedDate), React.createElement(\"div\", {\n      className: \"\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99\n      },\n      __self: this\n    }, getFormatedDate(timestamp).time)), React.createElement(\"div\", {\n      className: \"\".concat(historyKey === historyData.results.length ? 'item-data last' : 'item-data', \" w-100 col col-7\"),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"border item-data-type\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"item-data-title mb-2 p-2\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109\n      },\n      __self: this\n    }, LOG_TYPE[logType]), agentName && React.createElement(\"div\", {\n      className: \"history-log-body-value mb-2 row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113\n      },\n      __self: this\n    }, React.createElement(FontAwesomeIcon, {\n      className: \"col col-3\",\n      icon: faUser,\n      size: \"lg\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: \" history-log-body-value ml-n4 col\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 119\n      },\n      __self: this\n    }, agentName)), OrgUnit && React.createElement(\"div\", {\n      className: \"history-log-body-value mb-2 row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 125\n      },\n      __self: this\n    }, React.createElement(FontAwesomeIcon, {\n      className: \"col col-3\",\n      icon: faMapMarkerAlt,\n      size: \"lg\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 126\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: \" history-log-body-value ml-n4 col\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 131\n      },\n      __self: this\n    }, OrgUnit.name)), assigneeName && React.createElement(\"div\", {\n      className: \"history-log-body-value mb-2 row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 137\n      },\n      __self: this\n    }, React.createElement(FontAwesomeIcon, {\n      className: \"col col-3\",\n      icon: faUser,\n      size: \"lg\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 138\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: \" history-log-body-value ml-n4 col\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 143\n      },\n      __self: this\n    }, assigneeName)), logs && logs.notes && React.createElement(\"div\", {\n      className: \"history-log-body-value mb-2 row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 149\n      },\n      __self: this\n    }, React.createElement(FontAwesomeIcon, {\n      className: \"col col-3\",\n      icon: faFileAlt,\n      size: \"lg\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 150\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: \" history-log-body-value ml-n4 col\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 155\n      },\n      __self: this\n    }, logs.notes)), logs && LOG_TYPE[logType] !== 'Check in' && LOG_TYPE[logType] !== 'Check out' && React.createElement(\"div\", {\n      className: \"history-log-body-key row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 162\n      },\n      __self: this\n    }, React.createElement(FontAwesomeIcon, {\n      className: \"col col-3\",\n      icon: faCodeBranch,\n      size: \"lg\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 163\n      },\n      __self: this\n    }), attributesLogs, logs.assignee && React.createElement(\"div\", {\n      className: \"history-log-log-header ml-n4 col mb-2\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 170\n      },\n      __self: this\n    }, ' ', logs.assignee.old_assignee && React.createElement(\"span\", {\n      className: \"history-log-log-value\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 173\n      },\n      __self: this\n    }, \"\".concat(\"\".concat(logs.assignee.old_assignee.first_name, \" \").concat(logs.assignee.old_assignee.last_name)) || '\"-\"'), ' ', \"assigned to \", ' ', logs.assignee.new_assignee && React.createElement(\"span\", {\n      className: \"history-log-log-value\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 178\n      },\n      __self: this\n    }, \"\".concat(\"\".concat(logs.assignee.new_assignee.first_name, \" \").concat(logs.assignee.new_assignee.last_name)) || '\"-\"')), logs.asset_name && React.createElement(\"div\", {\n      className: \"history-log-log-header ml-n4 col mb-2\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 185\n      },\n      __self: this\n    }, ' ', \"Asset name\", React.createElement(\"span\", {\n      className: \"history-log-log-value\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 188\n      },\n      __self: this\n    }, logs.asset_name.old_name || '\"-\"'), ' ', \"has changed to\", ' ', React.createElement(\"span\", {\n      className: \"history-log-log-value\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 192\n      },\n      __self: this\n    }, logs.asset_name.new_name || ' \"-\"'))))));\n  });\n  return React.createElement(\"div\", {\n    className: \"asset-history-detials border-0\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 205\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"events w-100 \",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 206\n    },\n    __self: this\n  }, showHistory && showHistory.length > 0 ? showHistory : React.createElement(DataNotFound, {\n    name: \"History\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 210\n    },\n    __self: this\n  })));\n};\n\nCustomLogs.propTypes = {\n  historyData: PropTypes.oneOfType([PropTypes.array, PropTypes.object])\n};\nCustomLogs.defaultProps = {\n  historyData: {}\n};\nexport default CustomLogs;","map":{"version":3,"sources":["/home/nowshad/Desktop/Company Projects/footprints/frontend/src/components/CustomLogs/CustomLogs.jsx"],"names":["React","PropTypes","faUser","faFileAlt","faMapMarkerAlt","faCodeBranch","FontAwesomeIcon","getFormatedDate","LOG_TYPE","DataNotFound","CustomLogs","props","historyData","historyKey","showHistory","results","Array","map","eachLog","timestamp","attributes","logType","log_type","agent","OrgUnit","org_unit","assignee","logs","agentName","assigneeName","firstName","first_name","lastName","last_name","logsAttributs","attributeKey","eachAttr","Attribute","attribute","AttributeValue","attribute_value","name","attributeLogKey","attributesLogs","eachAtrlog","oldAttVal","old_attribute_value","newAttVal","new_attribute_value","formatedDate","time","length","notes","old_assignee","new_assignee","asset_name","old_name","new_name","propTypes","oneOfType","array","object","defaultProps"],"mappings":"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","sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\nimport { faUser, faFileAlt } from '@fortawesome/free-regular-svg-icons';\nimport {\n  faMapMarkerAlt,\n  faCodeBranch\n} from '@fortawesome/free-solid-svg-icons';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { getFormatedDate } from '../../utils/common';\nimport { LOG_TYPE } from '../../utils/constants';\nimport DataNotFound from '../DataNotFound/DataNotFound';\nimport './CustomLogs.scss';\n\nconst CustomLogs = props => {\n  const { historyData } = props;\n  let historyKey = 0;\n  const showHistory =\n    historyData &&\n    historyData.results &&\n    historyData.results instanceof Array &&\n    historyData.results.map(eachLog => {\n      historyKey += 1;\n      const {\n        timestamp,\n        attributes,\n        log_type: logType,\n        agent,\n        org_unit: OrgUnit,\n        assignee,\n        logs\n      } = eachLog;\n      let agentName = '';\n      let assigneeName = '';\n      if (agent) {\n        const { first_name: firstName, last_name: lastName } = agent;\n        agentName = `${firstName} ${lastName}`;\n      }\n\n      if (assignee) {\n        const { first_name: firstName, last_name: lastName } = assignee;\n        assigneeName = `${firstName} ${lastName}`;\n      }\n\n      let logsAttributs = [];\n      let attributeKey = 0;\n      if (attributes) {\n        logsAttributs =\n          attributes instanceof Array &&\n          attributes.map(eachAttr => {\n            const {\n              attribute: Attribute,\n              attribute_value: AttributeValue\n            } = eachAttr;\n            attributeKey += 1;\n            return (\n              <div className=\"history-log-body-value row\" key={attributeKey}>\n                <span className=\"font-weight-bold col\">{Attribute.name}</span>\n                <span className=\"font-weight-bold\">:</span>\n                <span className=\"col\">{AttributeValue.name}</span>\n              </div>\n            );\n          });\n      }\n      let attributeLogKey = 0;\n      const attributesLogs = logs&&\n        logs.attributes &&\n        logs.attributes.map(eachAtrlog => {\n          const {\n            attribute,\n            old_attribute_value: oldAttVal,\n            new_attribute_value: newAttVal\n          } = eachAtrlog;\n          attributeLogKey += 1;\n          return (\n            <div\n              className=\"history-log-log-header ml-n4 col mb-2\"\n              key={attributeLogKey}\n            >\n              The{' '}\n              <span className=\"history-log-log-value\">\n                {attribute || ' \"-\"'}\n              </span>{' '}\n              value changed from{' '}\n              <span className=\"history-log-log-value\">\n                {oldAttVal || ' \"-\"'}\n              </span>{' '}\n              to{' '}\n              <span className=\"history-log-log-value\">\n                {newAttVal || ' \"-\"'}\n              </span>\n            </div>\n          );\n        });\n\n      return (\n        <div className=\"history-item row \" key={historyKey}>\n          <div className=\"col col-4 ml-xl-n2 ml-md-n1 ml-n2 date-time\">\n            <div className=\"\">{getFormatedDate(timestamp).formatedDate}</div>\n            <div className=\"\">{getFormatedDate(timestamp).time}</div>\n          </div>\n          <div\n            className={`${\n              historyKey === historyData.results.length\n                ? 'item-data last'\n                : 'item-data'\n            } w-100 col col-7`}\n          >\n            <div className=\"border item-data-type\">\n              <div className=\"item-data-title mb-2 p-2\">\n                {LOG_TYPE[logType]}\n              </div>\n              {agentName && (\n                <div className=\"history-log-body-value mb-2 row\">\n                  <FontAwesomeIcon\n                    className=\"col col-3\"\n                    icon={faUser}\n                    size=\"lg\"\n                  />\n                  <div className=\" history-log-body-value ml-n4 col\">\n                    {agentName}\n                  </div>\n                </div>\n              )}\n              {OrgUnit && (\n                <div className=\"history-log-body-value mb-2 row\">\n                  <FontAwesomeIcon\n                    className=\"col col-3\"\n                    icon={faMapMarkerAlt}\n                    size=\"lg\"\n                  />\n                  <div className=\" history-log-body-value ml-n4 col\">\n                    {OrgUnit.name}\n                  </div>\n                </div>\n              )}\n              {assigneeName && (\n                <div className=\"history-log-body-value mb-2 row\">\n                  <FontAwesomeIcon\n                    className=\"col col-3\"\n                    icon={faUser}\n                    size=\"lg\"\n                  />\n                  <div className=\" history-log-body-value ml-n4 col\">\n                    {assigneeName}\n                  </div>\n                </div>\n              )}\n              {logs && logs.notes && (\n                <div className=\"history-log-body-value mb-2 row\">\n                  <FontAwesomeIcon\n                    className=\"col col-3\"\n                    icon={faFileAlt}\n                    size=\"lg\"\n                  />\n                  <div className=\" history-log-body-value ml-n4 col\">\n                    {logs.notes}\n                  </div>\n                </div>\n              )}\n\n              {logs && LOG_TYPE[logType] !== 'Check in' && LOG_TYPE[logType] !== 'Check out' && (\n                <div className=\"history-log-body-key row\">\n                  <FontAwesomeIcon\n                    className=\"col col-3\"\n                    icon={faCodeBranch}\n                    size=\"lg\"\n                  />\n                  {attributesLogs}\n                  {logs.assignee && (\n                    <div className=\"history-log-log-header ml-n4 col mb-2\">\n                      {' '}\n                      {/* assignee name */}\n                      {logs.assignee.old_assignee && <span className=\"history-log-log-value\">\n                        {`${`${logs.assignee.old_assignee.first_name} ${logs.assignee.old_assignee.last_name}`}` ||\n                          '\"-\"'}\n                      </span>}{' '}\n                      assigned to {' '}\n                      {logs.assignee.new_assignee && <span className=\"history-log-log-value\">\n                        {`${`${logs.assignee.new_assignee.first_name} ${logs.assignee.new_assignee.last_name}`}` ||\n                          '\"-\"'}\n                      </span>}\n                    </div>\n                  )}\n                  {logs.asset_name && (\n                    <div className=\"history-log-log-header ml-n4 col mb-2\">\n                      {' '}\n                      Asset name\n                      <span className=\"history-log-log-value\">\n                        {logs.asset_name.old_name || '\"-\"'}\n                      </span>{' '}\n                      has changed to{' '}\n                      <span className=\"history-log-log-value\">\n                        {logs.asset_name.new_name || ' \"-\"'}\n                      </span>\n                    </div>\n                  )}\n                </div>\n              )}\n            </div>\n          </div>\n        </div>\n      );\n    });\n  return (\n    <div className=\"asset-history-detials border-0\">\n      <div className=\"events w-100 \">\n        {showHistory && showHistory.length > 0 ? (\n          showHistory\n        ) : (\n          <DataNotFound name=\"History\" />\n        )}\n      </div>\n    </div>\n  );\n};\nCustomLogs.propTypes = {\n  historyData: PropTypes.oneOfType([PropTypes.array, PropTypes.object])\n};\n\nCustomLogs.defaultProps = {\n  historyData: {}\n};\nexport default CustomLogs;\n"]},"metadata":{},"sourceType":"module"}