{"ast":null,"code":"var _jsxFileName = \"/home/nowshad/Desktop/Todo/frontend/src/containers/Todos/Todos.jsx\";\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport { withRouter } from 'react-router-dom';\nimport pageConfig from '../../utils/pageConfig';\nimport PageLoader from '../../components/PageLoader/PageLoader';\nimport PageHeader from '../../components/PageHeader/PageHeader';\nimport { getActionsFormate } from '../../utils/common';\nimport { onPagination, onPageChange } from '../../utils/utils';\nimport { DATA_NOT_FOUND } from '../../utils/constants';\nimport ACTIONS from '../../apiConfig/actions.constants';\nimport Todo from '../../components/Todo/Todo';\nimport DataNotFound from '../../components/DataNotFound/DataNotFound';\nimport { reverse } from 'dns';\nimport { TODOS_ROUTE } from '../../config';\n\nclass Todos extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.fetchTodos = () => {\n      const _this$props = this.props,\n            getTodosList = _this$props.getTodosList,\n            page = _this$props.page;\n      const offset = (this.state.currentPage - 1) * 10;\n      getTodosList(ACTIONS.TODOS.GET_TODOS, {\n        limit: this.state.perPage,\n        offset,\n        page\n      });\n    };\n\n    this.handleEdit = id => {\n      const history = this.props.history;\n      history.push(reverse(TODOS_ROUTE.TODOS.DETAIL.MODIFY, {\n        todoId: id\n      }));\n    };\n\n    this.handleDelete = id => {\n      const deleteTodo = this.props.deleteTodo;\n      deleteTodo(ACTIONS.TODOS.DELETE_TODO, {\n        todoId: id\n      });\n    };\n\n    this.state = {\n      perPage: 10,\n      currentPage: 1,\n      start: 1,\n      end: 5\n    };\n    this.onPagination = onPagination.bind(this);\n    this.onPageChange = onPageChange.bind(this);\n  }\n\n  componentDidMount() {\n    this.fetchTodos();\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    if (this.state.currentPage !== prevState.currentPage) {\n      this.fetchTodos();\n    }\n  }\n\n  render() {\n    const _this$props2 = this.props,\n          page = _this$props2.page,\n          inProgress = _this$props2.inProgress,\n          Data = _this$props2.Data;\n    console.log(\"data:\", Data);\n    const _pageConfig$page = pageConfig[page],\n          pageTitle = _pageConfig$page.pageTitle,\n          headerActions = _pageConfig$page.headerActions,\n          redirect = _pageConfig$page.redirect; // const totalPages =\n    //   Data && Data.pdf_storages\n    //     ? Math.ceil(Data.pdf_storages.count / this.state.perPage)\n    //     : 0;\n    // const paginationData = {\n    //   start: this.state.start,\n    //   end: totalPages > 5 ? this.state.end : totalPages,\n    //   currentPage: this.state.currentPage,\n    //   onPagination: this.onPagination,\n    //   onPageChange: this.onPageChange,\n    //   totalPages: totalPages < 1 ? 1 : totalPages\n    // };\n    // const data = [\n    //   {title:\"Nowshad\", description: \"Okajhsd\"},\n    //   {title:\"Nowshad\", description: \"Okajhsd\"},\n    //   {title:\"Nowshad\", description: \"Okajhsd\"},\n    //   {title:\"Nowshad\", description: \"Okajhsd\"},\n    //   {title:\"Nowshad\", description: \"Okajhsd\"},\n    //   {title:\"Nowshad\", description: \"Okajhsd\"},\n    // ]\n\n    let todoKey = 0;\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89\n      },\n      __self: this\n    }, React.createElement(PageLoader, {\n      inProgress: false,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90\n      },\n      __self: this\n    }), React.createElement(PageHeader, Object.assign({}, this.props, {\n      title: pageTitle,\n      actions: headerActions,\n      redirect: redirect,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"row todo-list\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98\n      },\n      __self: this\n    }, Data && Data.map(each => {\n      todoKey++;\n      return React.createElement(Todo, {\n        data: each,\n        key: todoKey,\n        handleDelete: this.handleDelete,\n        handleEdit: this.handleEdit,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 101\n        },\n        __self: this\n      });\n    })), !(Data && Data.length > 0) && React.createElement(DataNotFound, {\n      name: \"Todos\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104\n      },\n      __self: this\n    }));\n  }\n\n}\n\nTodos.propTypes = {\n  getTodosList: PropTypes.func.isRequired,\n  page: PropTypes.string.isRequired,\n  match: PropTypes.object.isRequired,\n  inProgress: PropTypes.bool.isRequired,\n  Data: PropTypes.object,\n  history: PropTypes.object.isRequired\n};\nTodos.defaultProps = {\n  Data: []\n};\n\nconst mapStateToProps = state => ({\n  Data: state.todosReducerStore.data,\n  inProgress: state.todosReducerStore.inProgress\n});\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    getTodosList: (type, data) => {\n      dispatch(getActionsFormate(type, data));\n    },\n    resetState: type => {\n      dispatch(getActionsFormate(type));\n    },\n    deleteTodo: (type, data) => {\n      dispatch(getActionsFormate(type, data));\n    }\n  };\n};\n\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)(Todos));","map":{"version":3,"sources":["/home/nowshad/Desktop/Todo/frontend/src/containers/Todos/Todos.jsx"],"names":["React","PropTypes","connect","withRouter","pageConfig","PageLoader","PageHeader","getActionsFormate","onPagination","onPageChange","DATA_NOT_FOUND","ACTIONS","Todo","DataNotFound","reverse","TODOS_ROUTE","Todos","Component","constructor","props","fetchTodos","getTodosList","page","offset","state","currentPage","TODOS","GET_TODOS","limit","perPage","handleEdit","id","history","push","DETAIL","MODIFY","todoId","handleDelete","deleteTodo","DELETE_TODO","start","end","bind","componentDidMount","componentDidUpdate","prevProps","prevState","render","inProgress","Data","console","log","pageTitle","headerActions","redirect","todoKey","map","each","length","propTypes","func","isRequired","string","match","object","bool","defaultProps","mapStateToProps","todosReducerStore","data","mapDispatchToProps","dispatch","type","resetState"],"mappings":"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","sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport { withRouter } from 'react-router-dom';\nimport pageConfig from '../../utils/pageConfig';\nimport PageLoader from '../../components/PageLoader/PageLoader';\nimport PageHeader from '../../components/PageHeader/PageHeader';\nimport { getActionsFormate } from '../../utils/common';\nimport {\n  onPagination,\n  onPageChange,\n} from '../../utils/utils';\nimport { DATA_NOT_FOUND } from '../../utils/constants';\nimport ACTIONS from '../../apiConfig/actions.constants';\nimport Todo from '../../components/Todo/Todo';\nimport DataNotFound from '../../components/DataNotFound/DataNotFound';\nimport { reverse } from 'dns';\nimport { TODOS_ROUTE } from '../../config';\n\nclass Todos extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      perPage: 10,\n      currentPage: 1,\n      start: 1,\n      end: 5\n    };\n    this.onPagination = onPagination.bind(this);\n    this.onPageChange = onPageChange.bind(this);\n  }\n\n  componentDidMount() {\n    this.fetchTodos();\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    if (this.state.currentPage !== prevState.currentPage) {\n      this.fetchTodos();\n    }\n  }\n\n  fetchTodos = () => {\n    const { getTodosList, page } = this.props;\n    const offset = (this.state.currentPage - 1) * 10;\n    getTodosList(ACTIONS.TODOS.GET_TODOS, {\n      limit: this.state.perPage,\n      offset,\n      page,\n    });\n  };\n\n  handleEdit=(id)=>{\n    const { history } = this.props;\n    history.push(reverse(TODOS_ROUTE.TODOS.DETAIL.MODIFY, {todoId: id}));\n  }\n\n  handleDelete=(id)=>{\n    const {deleteTodo } = this.props;\n    deleteTodo(ACTIONS.TODOS.DELETE_TODO, {todoId:id});\n  }\n\n  render() {\n    const { page, inProgress, Data } = this.props;\n    console.log(\"data:\", Data);\n    const { pageTitle, headerActions, redirect } = pageConfig[page];\n    // const totalPages =\n    //   Data && Data.pdf_storages\n    //     ? Math.ceil(Data.pdf_storages.count / this.state.perPage)\n    //     : 0;\n    // const paginationData = {\n    //   start: this.state.start,\n    //   end: totalPages > 5 ? this.state.end : totalPages,\n    //   currentPage: this.state.currentPage,\n    //   onPagination: this.onPagination,\n    //   onPageChange: this.onPageChange,\n    //   totalPages: totalPages < 1 ? 1 : totalPages\n    // };\n    // const data = [\n    //   {title:\"Nowshad\", description: \"Okajhsd\"},\n    //   {title:\"Nowshad\", description: \"Okajhsd\"},\n    //   {title:\"Nowshad\", description: \"Okajhsd\"},\n    //   {title:\"Nowshad\", description: \"Okajhsd\"},\n    //   {title:\"Nowshad\", description: \"Okajhsd\"},\n    //   {title:\"Nowshad\", description: \"Okajhsd\"},\n    // ]\n    let todoKey = 0;\n    return (\n      <div>\n        <PageLoader inProgress={false} />\n        <PageHeader\n          {...this.props}\n          title={pageTitle}\n          actions={headerActions}\n          redirect={redirect}\n        />\n        \n        <div className=\"row todo-list\">\n        {Data && Data.map(each=>{\n          todoKey++;\n          return <Todo data={each} key={todoKey} handleDelete={this.handleDelete} handleEdit={this.handleEdit}/>\n        })}\n        </div>\n        {!(Data && Data.length > 0) && <DataNotFound name={\"Todos\"} />}\n      </div>\n    );\n  }\n}\n\nTodos.propTypes = {\n  getTodosList: PropTypes.func.isRequired,\n  page: PropTypes.string.isRequired,\n  match: PropTypes.object.isRequired,\n  inProgress: PropTypes.bool.isRequired,\n  Data: PropTypes.object,\n  history: PropTypes.object.isRequired\n};\n\nTodos.defaultProps = {\n  Data: []\n};\nconst mapStateToProps = state => ({\n  Data: state.todosReducerStore.data,\n  inProgress: state.todosReducerStore.inProgress\n});\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    getTodosList: (type, data) => {\n      dispatch(getActionsFormate(type, data));\n    },\n    resetState: type => {\n      dispatch(getActionsFormate(type));\n    },\n    deleteTodo: (type, data)=>{\n      dispatch(getActionsFormate(type, data));\n    }\n  };\n};\n\nexport default withRouter(\n  connect(\n    mapStateToProps,\n    mapDispatchToProps\n  )(Todos)\n);\n"]},"metadata":{},"sourceType":"module"}