{"ast":null,"code":"var _jsxFileName = \"/home/nowshad/Desktop/Company Projects/footprints/frontend/src/components/CustomLogs/CustomLogs.jsx\";\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport { getFormatedDate } from '../../utils/common';\nimport { LOG_TYPE } from '../../utils/constants';\nimport DataNotFound from '../DataNotFound/DataNotFound';\nimport { faUser, faFileAlt } from '@fortawesome/free-regular-svg-icons';\nimport { faMapMarkerAlt, faCodeBranch } from '@fortawesome/free-solid-svg-icons';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport './CustomLogs.scss';\n\nconst CustomLogs = props => {\n  const historyData = props.historyData;\n  let historyKey = 0;\n  const showHistory = historyData && historyData.results && historyData.results instanceof Array && historyData.results.map(eachLog => {\n    historyKey += 1;\n    const timestamp = eachLog.timestamp,\n          attributes = eachLog.attributes,\n          logType = eachLog.log_type,\n          agent = eachLog.agent,\n          OrgUnit = eachLog.org_unit,\n          assignee = eachLog.assignee,\n          logs = eachLog.logs;\n    let agentName = '';\n    let assigneeName = '';\n\n    if (agent) {\n      const firstName = agent.first_name,\n            lastName = agent.last_name;\n      agentName = \"\".concat(firstName, \" \").concat(lastName);\n    }\n\n    if (assignee) {\n      const firstName = assignee.first_name,\n            lastName = assignee.last_name;\n      assigneeName = \"\".concat(firstName, \" \").concat(lastName);\n    }\n\n    let logsAttributs = [];\n    let attributeKey = 0;\n\n    if (attributes) {\n      logsAttributs = attributes instanceof Array && attributes.map(eachAttr => {\n        const Attribute = eachAttr.attribute,\n              AttributeValue = eachAttr.attribute_value;\n        attributeKey += 1;\n        return React.createElement(\"div\", {\n          className: \"history-log-body-value row\",\n          key: attributeKey,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 51\n          },\n          __self: this\n        }, React.createElement(\"span\", {\n          className: \"font-weight-bold col\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 52\n          },\n          __self: this\n        }, Attribute.name), React.createElement(\"span\", {\n          className: \"font-weight-bold\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 53\n          },\n          __self: this\n        }, \":\"), React.createElement(\"span\", {\n          className: \"col\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 54\n          },\n          __self: this\n        }, AttributeValue.name));\n      });\n    }\n\n    let attributeLogKey = 0;\n    const attributesLogs = logs.attributes && logs.attributes.map(eachAtrlog => {\n      const attribute = eachAtrlog.attribute,\n            oldAttVal = eachAtrlog.old_attribute_value,\n            newAttVal = eachAtrlog.new_attribute_value;\n      attributeLogKey += 1;\n      return React.createElement(\"div\", {\n        className: \"history-log-log-header ml-n4 col mb-2\",\n        key: attributeLogKey,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 64\n        },\n        __self: this\n      }, \"The \", \" \", React.createElement(\"span\", {\n        className: \"history-log-log-value\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 65\n        },\n        __self: this\n      }, attribute || ' \"-\"'), \" value\", \" \", \" changed from \", \" \", React.createElement(\"span\", {\n        className: \"history-log-log-value\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 66\n        },\n        __self: this\n      }, oldAttVal || ' \"-\"'), \" to \", \" \", React.createElement(\"span\", {\n        className: \"history-log-log-value\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 67\n        },\n        __self: this\n      }, newAttVal || ' \"-\"'));\n    });\n    return React.createElement(\"div\", {\n      className: \"history-item row \",\n      key: historyKey,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"col col-4 ml-xl-n2 ml-md-n1 ml-n2 date-time\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75\n      },\n      __self: this\n    }, getFormatedDate(timestamp).formatedDate), React.createElement(\"div\", {\n      className: \"logs-time\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76\n      },\n      __self: this\n    }, getFormatedDate(timestamp).time)), React.createElement(\"div\", {\n      className: \"\".concat(historyKey === historyData.results.length ? 'item-data last' : 'item-data', \" w-100 col col-7\"),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"border item-data-type\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"item-data-title mb-2 p-2\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87\n      },\n      __self: this\n    }, LOG_TYPE[logType]), agentName && React.createElement(\"div\", {\n      className: \"history-log-body-value mb-2 row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89\n      },\n      __self: this\n    }, React.createElement(FontAwesomeIcon, {\n      className: \"col col-3\",\n      icon: faUser,\n      size: \"lg\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: \" history-log-body-value ml-n4 col\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91\n      },\n      __self: this\n    }, agentName)), OrgUnit && React.createElement(\"div\", {\n      className: \"history-log-body-value mb-2 row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95\n      },\n      __self: this\n    }, React.createElement(FontAwesomeIcon, {\n      className: \"col col-3\",\n      icon: faMapMarkerAlt,\n      size: \"lg\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: \" history-log-body-value ml-n4 col\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97\n      },\n      __self: this\n    }, OrgUnit.name)), assigneeName && React.createElement(\"div\", {\n      className: \"history-log-body-value mb-2 row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101\n      },\n      __self: this\n    }, React.createElement(FontAwesomeIcon, {\n      className: \"col col-3\",\n      icon: faUser,\n      size: \"lg\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: \" history-log-body-value ml-n4 col\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103\n      },\n      __self: this\n    }, assigneeName)), logs && logs.notes && React.createElement(\"div\", {\n      className: \"history-log-body-value mb-2 row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107\n      },\n      __self: this\n    }, React.createElement(FontAwesomeIcon, {\n      className: \"col col-3\",\n      icon: faFileAlt,\n      size: \"lg\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: \" history-log-body-value ml-n4 col\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109\n      },\n      __self: this\n    }, logs.notes)), logs && React.createElement(\"div\", {\n      className: \"history-log-body-key row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114\n      },\n      __self: this\n    }, React.createElement(FontAwesomeIcon, {\n      className: \"col col-3\",\n      icon: faCodeBranch,\n      size: \"lg\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115\n      },\n      __self: this\n    }), attributesLogs, logs.assignee && React.createElement(\"div\", {\n      className: \"history-log-body-value ml-n4 col mb-2\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 117\n      },\n      __self: this\n    }, \" assignee name\", React.createElement(\"span\", {\n      className: \"history-log-log-value\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 118\n      },\n      __self: this\n    }, \"\".concat(logs.assignee.old_assignee.first_name + \" \" + logs.assignee.old_assignee.last_name) || '\"-\"'), \" has changed to \", \" \", React.createElement(\"span\", {\n      className: \"history-log-log-value\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 119\n      },\n      __self: this\n    }, \"\".concat(logs.assignee.new_assignee.first_name + \" \" + logs.assignee.new_assignee.last_name) || '\"-\"')), logs.asset_name && React.createElement(\"div\", {\n      className: \"history-log-body-value ml-n4 col mb-2\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 121\n      },\n      __self: this\n    }, \" Asset name\", React.createElement(\"span\", {\n      className: \"history-log-log-value\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 122\n      },\n      __self: this\n    }, logs.asset_name.old_asset_name || '\"-\"'), \" has changed to \", \" \", React.createElement(\"span\", {\n      className: \"history-log-log-value\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 123\n      },\n      __self: this\n    }, logs.asset_name.new_asset_name || ' \"-\"')), logs.notes && React.createElement(\"div\", {\n      className: \"history-log-body-value ml-n4 col mb-2\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 125\n      },\n      __self: this\n    }, \"A note has been added\")))));\n  });\n  return React.createElement(\"div\", {\n    className: \"asset-history-detials border-0\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 134\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"events w-100 \",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 135\n    },\n    __self: this\n  }, showHistory && showHistory.length > 0 ? showHistory : React.createElement(DataNotFound, {\n    name: \"History\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 139\n    },\n    __self: this\n  })));\n};\n\nCustomLogs.propTypes = {\n  historyData: PropTypes.oneOfType([PropTypes.array, PropTypes.object])\n};\nCustomLogs.defaultProps = {\n  historyData: {}\n};\nexport default CustomLogs;","map":{"version":3,"sources":["/home/nowshad/Desktop/Company Projects/footprints/frontend/src/components/CustomLogs/CustomLogs.jsx"],"names":["React","PropTypes","getFormatedDate","LOG_TYPE","DataNotFound","faUser","faFileAlt","faMapMarkerAlt","faCodeBranch","FontAwesomeIcon","CustomLogs","props","historyData","historyKey","showHistory","results","Array","map","eachLog","timestamp","attributes","logType","log_type","agent","OrgUnit","org_unit","assignee","logs","agentName","assigneeName","firstName","first_name","lastName","last_name","logsAttributs","attributeKey","eachAttr","Attribute","attribute","AttributeValue","attribute_value","name","attributeLogKey","attributesLogs","eachAtrlog","oldAttVal","old_attribute_value","newAttVal","new_attribute_value","formatedDate","time","length","notes","old_assignee","new_assignee","asset_name","old_asset_name","new_asset_name","propTypes","oneOfType","array","object","defaultProps"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,SAAP,MAAsB,YAAtB;AACA,SAASC,eAAT,QAAgC,oBAAhC;AACA,SAASC,QAAT,QAAyB,uBAAzB;AACA,OAAOC,YAAP,MAAyB,8BAAzB;AACA,SAASC,MAAT,EAAiBC,SAAjB,QAAkC,qCAAlC;AACA,SAASC,cAAT,EAAyBC,YAAzB,QAA6C,mCAA7C;AACA,SAASC,eAAT,QAAgC,gCAAhC;AACA,OAAO,mBAAP;;AACA,MAAMC,UAAU,GAAEC,KAAK,IAAG;AAAA,QACdC,WADc,GACCD,KADD,CACdC,WADc;AAEtB,MAAIC,UAAU,GAAG,CAAjB;AACA,QAAMC,WAAW,GACfF,WAAW,IAAKA,WAAW,CAACG,OAA5B,IACAH,WAAW,CAACG,OAAZ,YAA+BC,KAD/B,IAEAJ,WAAW,CAACG,OAAZ,CAAoBE,GAApB,CAAwBC,OAAO,IAAI;AACjCL,IAAAA,UAAU,IAAI,CAAd;AADiC,UAG/BM,SAH+B,GAU7BD,OAV6B,CAG/BC,SAH+B;AAAA,UAI/BC,UAJ+B,GAU7BF,OAV6B,CAI/BE,UAJ+B;AAAA,UAKrBC,OALqB,GAU7BH,OAV6B,CAK/BI,QAL+B;AAAA,UAM/BC,KAN+B,GAU7BL,OAV6B,CAM/BK,KAN+B;AAAA,UAOrBC,OAPqB,GAU7BN,OAV6B,CAO/BO,QAP+B;AAAA,UAQ/BC,QAR+B,GAU7BR,OAV6B,CAQ/BQ,QAR+B;AAAA,UAS/BC,IAT+B,GAU7BT,OAV6B,CAS/BS,IAT+B;AAWjC,QAAIC,SAAS,GAAG,EAAhB;AACA,QAAIC,YAAY,GAAG,EAAnB;;AACA,QAAIN,KAAJ,EAAW;AAAA,YACWO,SADX,GAC8CP,KAD9C,CACDQ,UADC;AAAA,YACiCC,QADjC,GAC8CT,KAD9C,CACsBU,SADtB;AAETL,MAAAA,SAAS,aAAME,SAAN,cAAmBE,QAAnB,CAAT;AACD;;AAED,QAAIN,QAAJ,EAAc;AAAA,YACQI,SADR,GAC2CJ,QAD3C,CACJK,UADI;AAAA,YAC8BC,QAD9B,GAC2CN,QAD3C,CACmBO,SADnB;AAEZJ,MAAAA,YAAY,aAAMC,SAAN,cAAmBE,QAAnB,CAAZ;AACD;;AAED,QAAIE,aAAa,GAAG,EAApB;AACA,QAAIC,YAAY,GAAG,CAAnB;;AACA,QAAIf,UAAJ,EAAgB;AACdc,MAAAA,aAAa,GACXd,UAAU,YAAYJ,KAAtB,IACAI,UAAU,CAACH,GAAX,CAAemB,QAAQ,IAAI;AAAA,cAEZC,SAFY,GAIrBD,QAJqB,CAEvBE,SAFuB;AAAA,cAGNC,cAHM,GAIrBH,QAJqB,CAGvBI,eAHuB;AAKzBL,QAAAA,YAAY,IAAI,CAAhB;AACA,eACE;AAAK,UAAA,SAAS,EAAC,4BAAf;AAA4C,UAAA,GAAG,EAAEA,YAAjD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACE;AAAM,UAAA,SAAS,EAAC,sBAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAAwCE,SAAS,CAACI,IAAlD,CADF,EAEE;AAAM,UAAA,SAAS,EAAC,kBAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eAFF,EAGE;AAAM,UAAA,SAAS,EAAC,KAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAAuBF,cAAc,CAACE,IAAtC,CAHF,CADF;AAOD,OAbD,CAFF;AAgBD;;AACD,QAAIC,eAAe,GAAG,CAAtB;AACA,UAAMC,cAAc,GAAIhB,IAAI,CAACP,UAAL,IAAmBO,IAAI,CAACP,UAAL,CAAgBH,GAAhB,CAAoB2B,UAAU,IAAE;AAAA,YAClEN,SADkE,GACWM,UADX,CAClEN,SADkE;AAAA,YAClCO,SADkC,GACWD,UADX,CACvDE,mBADuD;AAAA,YACFC,SADE,GACWH,UADX,CACvBI,mBADuB;AAEzEN,MAAAA,eAAe,IAAI,CAAnB;AACA,aACE;AAAK,QAAA,SAAS,EAAC,uCAAf;AAAuD,QAAA,GAAG,EAAEA,eAA5D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBAAkF,GAAlF,EACE;AAAM,QAAA,SAAS,EAAC,uBAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAyCJ,SAAS,IAAI,MAAtD,CADF,YAC6E,GAD7E,oBACgG,GADhG,EAEE;AAAM,QAAA,SAAS,EAAC,uBAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAyCO,SAAS,IAAI,MAAtD,CAFF,UAE4E,GAF5E,EAGE;AAAM,QAAA,SAAS,EAAC,uBAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAyCE,SAAS,IAAI,MAAtD,CAHF,CADF;AAOD,KAV0C,CAA3C;AAYA,WACE;AAAK,MAAA,SAAS,EAAC,mBAAf;AAAmC,MAAA,GAAG,EAAElC,UAAxC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAK,MAAA,SAAS,EAAC,6CAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAMX,eAAe,CAACiB,SAAD,CAAf,CAA2B8B,YAAjC,CADF,EAEE;AAAK,MAAA,SAAS,EAAC,WAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAA4B/C,eAAe,CAACiB,SAAD,CAAf,CAA2B+B,IAAvD,CAFF,CADF,EAME;AACE,MAAA,SAAS,YACPrC,UAAU,KAAKD,WAAW,CAACG,OAAZ,CAAoBoC,MAAnC,GACI,gBADJ,GAEI,WAHG,qBADX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAOE;AAAK,MAAA,SAAS,EAAC,uBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAK,MAAA,SAAS,EAAC,0BAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAA2ChD,QAAQ,CAACkB,OAAD,CAAnD,CADF,EAEGO,SAAS,IACR;AAAK,MAAA,SAAS,EAAC,iCAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE,oBAAC,eAAD;AAAiB,MAAA,SAAS,EAAC,WAA3B;AAAuC,MAAA,IAAI,EAAEvB,MAA7C;AAAqD,MAAA,IAAI,EAAC,IAA1D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,EAEE;AAAK,MAAA,SAAS,EAAC,mCAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAoDuB,SAApD,CAFF,CAHJ,EAQGJ,OAAO,IACN;AAAK,MAAA,SAAS,EAAC,iCAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE,oBAAC,eAAD;AAAiB,MAAA,SAAS,EAAC,WAA3B;AAAuC,MAAA,IAAI,EAAEjB,cAA7C;AAA6D,MAAA,IAAI,EAAC,IAAlE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,EAEE;AAAK,MAAA,SAAS,EAAC,mCAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAoDiB,OAAO,CAACiB,IAA5D,CAFF,CATJ,EAcIZ,YAAY,IACZ;AAAK,MAAA,SAAS,EAAC,iCAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE,oBAAC,eAAD;AAAiB,MAAA,SAAS,EAAC,WAA3B;AAAuC,MAAA,IAAI,EAAExB,MAA7C;AAAqD,MAAA,IAAI,EAAC,IAA1D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,EAEE;AAAK,MAAA,SAAS,EAAC,mCAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAoDwB,YAApD,CAFF,CAfJ,EAoBGF,IAAI,IAAIA,IAAI,CAACyB,KAAb,IACC;AAAK,MAAA,SAAS,EAAC,iCAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE,oBAAC,eAAD;AAAiB,MAAA,SAAS,EAAC,WAA3B;AAAuC,MAAA,IAAI,EAAE9C,SAA7C;AAAwD,MAAA,IAAI,EAAC,IAA7D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,EAEE;AAAK,MAAA,SAAS,EAAC,mCAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAoDqB,IAAI,CAACyB,KAAzD,CAFF,CArBJ,EA2BGzB,IAAI,IACL;AAAK,MAAA,SAAS,EAAC,0BAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI,oBAAC,eAAD;AAAiB,MAAA,SAAS,EAAC,WAA3B;AAAuC,MAAA,IAAI,EAAEnB,YAA7C;AAA2D,MAAA,IAAI,EAAC,IAAhE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADJ,EAEKmC,cAFL,EAGKhB,IAAI,CAACD,QAAL,IAAiB;AAAK,MAAA,SAAS,EAAC,uCAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,yBAChB;AAAM,MAAA,SAAS,EAAC,uBAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAyC,UAAGC,IAAI,CAACD,QAAL,CAAc2B,YAAd,CAA2BtB,UAA3B,GAAsC,GAAtC,GAA0CJ,IAAI,CAACD,QAAL,CAAc2B,YAAd,CAA2BpB,SAAxE,KAAuF,KAAhI,CADgB,sBAC8I,GAD9I,EAEhB;AAAM,MAAA,SAAS,EAAC,uBAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAyC,UAAGN,IAAI,CAACD,QAAL,CAAc4B,YAAd,CAA2BvB,UAA3B,GAAsC,GAAtC,GAA0CJ,IAAI,CAACD,QAAL,CAAc4B,YAAd,CAA2BrB,SAAxE,KAAuF,KAAhI,CAFgB,CAHtB,EAOKN,IAAI,CAAC4B,UAAL,IAAmB;AAAK,MAAA,SAAS,EAAC,uCAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBAClB;AAAM,MAAA,SAAS,EAAC,uBAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAyC5B,IAAI,CAAC4B,UAAL,CAAgBC,cAAhB,IAAkC,KAA3E,CADkB,sBACuF,GADvF,EAElB;AAAM,MAAA,SAAS,EAAC,uBAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAyC7B,IAAI,CAAC4B,UAAL,CAAgBE,cAAhB,IAAkC,MAA3E,CAFkB,CAPxB,EAWK9B,IAAI,CAACyB,KAAL,IAAc;AAAK,MAAA,SAAS,EAAC,uCAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,+BAXnB,CA5BF,CAPF,CANF,CADF;AA4DD,GApHD,CAHF;AAwHE,SACI;AAAK,IAAA,SAAS,EAAC,gCAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAK,IAAA,SAAS,EAAC,eAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACKtC,WAAW,IAAIA,WAAW,CAACqC,MAAZ,GAAqB,CAApC,GACDrC,WADC,GAGD,oBAAC,YAAD;AAAc,IAAA,IAAI,EAAC,SAAnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAJJ,CADF,CADJ;AAWL,CAtID;;AAuIAJ,UAAU,CAACgD,SAAX,GAAuB;AACnB9C,EAAAA,WAAW,EAAEX,SAAS,CAAC0D,SAAV,CAAoB,CAAC1D,SAAS,CAAC2D,KAAX,EAAkB3D,SAAS,CAAC4D,MAA5B,CAApB;AADM,CAAvB;AAIAnD,UAAU,CAACoD,YAAX,GAA0B;AACtBlD,EAAAA,WAAW,EAAE;AADS,CAA1B;AAGA,eAAeF,UAAf","sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\nimport { getFormatedDate } from '../../utils/common';\nimport { LOG_TYPE } from '../../utils/constants';\nimport DataNotFound from '../DataNotFound/DataNotFound';\nimport { faUser, faFileAlt } from '@fortawesome/free-regular-svg-icons';\nimport { faMapMarkerAlt, faCodeBranch } from '@fortawesome/free-solid-svg-icons';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport './CustomLogs.scss';\nconst CustomLogs =props=> {\n    const { historyData} = props;\n    let historyKey = 0;\n    const showHistory =\n      historyData &&  historyData.results &&\n      historyData.results instanceof Array &&\n      historyData.results.map(eachLog => {\n        historyKey += 1;\n        const {\n          timestamp,\n          attributes,\n          log_type: logType,\n          agent,\n          org_unit: OrgUnit,\n          assignee,\n          logs,\n        } = eachLog;\n        let agentName = '';\n        let assigneeName = '';\n        if (agent) {\n          const { first_name: firstName, last_name: lastName } = agent;\n          agentName = `${firstName} ${lastName}`;\n        }\n\n        if (assignee) {\n          const { first_name: firstName, last_name: lastName } = assignee;\n          assigneeName = `${firstName} ${lastName}`;\n        }\n\n        let logsAttributs = [];\n        let attributeKey = 0;\n        if (attributes) {\n          logsAttributs =\n            attributes instanceof Array &&\n            attributes.map(eachAttr => {\n              const {\n                attribute: Attribute,\n                attribute_value: AttributeValue\n              } = eachAttr;\n              attributeKey += 1;\n              return (\n                <div className=\"history-log-body-value row\" key={attributeKey}>\n                  <span className=\"font-weight-bold col\">{Attribute.name}</span>\n                  <span className=\"font-weight-bold\">:</span>\n                  <span className=\"col\">{AttributeValue.name}</span>\n                </div>\n              );\n            });\n        }\n        let attributeLogKey = 0;\n        const attributesLogs =  logs.attributes && logs.attributes.map(eachAtrlog=>{\n          const {attribute, old_attribute_value: oldAttVal, new_attribute_value: newAttVal} = eachAtrlog;\n          attributeLogKey += 1;\n          return(\n            <div className=\"history-log-log-header ml-n4 col mb-2\" key={attributeLogKey}>The {\" \"}\n              <span className=\"history-log-log-value\">{attribute || ' \"-\"'}</span> value{\" \"} changed from {\" \"}\n              <span className=\"history-log-log-value\">{oldAttVal || ' \"-\"' }</span> to {\" \"} \n              <span className=\"history-log-log-value\">{newAttVal || ' \"-\"'}</span>\n            </div>\n          )\n        })\n\n        return (\n          <div className=\"history-item row \" key={historyKey}>\n            <div className=\"col col-4 ml-xl-n2 ml-md-n1 ml-n2 date-time\">\n              <div>{getFormatedDate(timestamp).formatedDate}</div>\n              <div className=\"logs-time\">{getFormatedDate(timestamp).time}</div>\n              \n            </div>\n            <div\n              className={`${\n                historyKey === historyData.results.length\n                  ? 'item-data last'\n                  : 'item-data'\n              } w-100 col col-7`}\n            >\n              <div className=\"border item-data-type\">\n                <div className=\"item-data-title mb-2 p-2\">{LOG_TYPE[logType]}</div>\n                {agentName && (\n                  <div className=\"history-log-body-value mb-2 row\">\n                    <FontAwesomeIcon className=\"col col-3\" icon={faUser} size=\"lg\" />\n                    <div className=\" history-log-body-value ml-n4 col\">{agentName}</div>\n                  </div>\n                )}\n                {OrgUnit && (\n                  <div className=\"history-log-body-value mb-2 row\">\n                    <FontAwesomeIcon className=\"col col-3\" icon={faMapMarkerAlt} size=\"lg\" />\n                    <div className=\" history-log-body-value ml-n4 col\">{OrgUnit.name}</div>\n                  </div>\n                )}\n                 {assigneeName && (\n                  <div className=\"history-log-body-value mb-2 row\">\n                    <FontAwesomeIcon className=\"col col-3\" icon={faUser} size=\"lg\" />\n                    <div className=\" history-log-body-value ml-n4 col\">{assigneeName}</div>\n                  </div>\n                )}\n                {logs && logs.notes && (\n                  <div className=\"history-log-body-value mb-2 row\">\n                    <FontAwesomeIcon className=\"col col-3\" icon={faFileAlt} size=\"lg\" />\n                    <div className=\" history-log-body-value ml-n4 col\">{logs.notes}</div>\n                  </div>\n                )}\n\n                {logs &&  (\n                <div className=\"history-log-body-key row\">\n                    <FontAwesomeIcon className=\"col col-3\" icon={faCodeBranch} size=\"lg\" />\n                    {attributesLogs}\n                    {logs.assignee && <div className=\"history-log-body-value ml-n4 col mb-2\"> assignee name\n                      <span className=\"history-log-log-value\">{`${logs.assignee.old_assignee.first_name+\" \"+logs.assignee.old_assignee.last_name}` || '\"-\"'}</span> has changed to {\" \"}\n                      <span className=\"history-log-log-value\">{`${logs.assignee.new_assignee.first_name+\" \"+logs.assignee.new_assignee.last_name}` || '\"-\"'}</span>\n                    </div>}\n                    {logs.asset_name && <div className=\"history-log-body-value ml-n4 col mb-2\"> Asset name\n                      <span className=\"history-log-log-value\">{logs.asset_name.old_asset_name || '\"-\"'}</span> has changed to {\" \"}\n                      <span className=\"history-log-log-value\">{logs.asset_name.new_asset_name || ' \"-\"'}</span>\n                    </div>}\n                    {logs.notes && <div className=\"history-log-body-value ml-n4 col mb-2\">A note has been added</div>}\n                </div>\n                )}\n              </div>\n            </div>\n          </div>\n        );\n      });\n      return (\n          <div className=\"asset-history-detials border-0\">\n            <div className=\"events w-100 \">\n                {showHistory && showHistory.length > 0 ? (\n                showHistory\n                ) : (\n                <DataNotFound name=\"History\" />\n                )}\n            </div>\n            </div>\n      )\n}\nCustomLogs.propTypes = {\n    historyData: PropTypes.oneOfType([PropTypes.array, PropTypes.object])\n};\n  \nCustomLogs.defaultProps = {\n    historyData: {}\n};\nexport default CustomLogs;"]},"metadata":{},"sourceType":"module"}