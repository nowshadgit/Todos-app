{"ast":null,"code":"var _jsxFileName = \"/home/nowshad/Desktop/Todo/frontend/src/containers/Todos/Todos.jsx\";\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport { withRouter } from 'react-router-dom';\nimport pageConfig from '../../utils/pageConfig';\nimport PageLoader from '../../components/PageLoader/PageLoader';\nimport PageHeader from '../../components/PageHeader/PageHeader';\nimport { getActionsFormate } from '../../utils/common';\nimport { onPagination, onPageChange } from '../../utils/utils';\nimport { DATA_NOT_FOUND } from '../../utils/constants';\nimport ACTIONS from '../../apiConfig/actions.constants';\nimport Todo from '../../components/Todo/Todo';\nimport DataNotFound from '../../components/DataNotFound/DataNotFound';\n\nclass Todos extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.fetchTodos = () => {\n      const _this$props = this.props,\n            getTodosList = _this$props.getTodosList,\n            page = _this$props.page;\n      const offset = (this.state.currentPage - 1) * 10;\n      getTodosList(ACTIONS.TODOS.GET_TODOS, {\n        limit: this.state.perPage,\n        offset,\n        page\n      });\n    };\n\n    this.state = {\n      perPage: 10,\n      currentPage: 1,\n      start: 1,\n      end: 5\n    };\n    this.onPagination = onPagination.bind(this);\n    this.onPageChange = onPageChange.bind(this);\n  }\n\n  componentDidMount() {\n    this.fetchTodos();\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    if (this.state.currentPage !== prevState.currentPage) {\n      this.fetchTodos();\n    }\n  }\n\n  render() {\n    const _this$props2 = this.props,\n          page = _this$props2.page,\n          inProgress = _this$props2.inProgress,\n          Data = _this$props2.Data;\n    console.log(\"data:\", Data);\n    const _pageConfig$page = pageConfig[page],\n          pageTitle = _pageConfig$page.pageTitle,\n          headerActions = _pageConfig$page.headerActions,\n          redirect = _pageConfig$page.redirect; // const totalPages =\n    //   Data && Data.pdf_storages\n    //     ? Math.ceil(Data.pdf_storages.count / this.state.perPage)\n    //     : 0;\n    // const paginationData = {\n    //   start: this.state.start,\n    //   end: totalPages > 5 ? this.state.end : totalPages,\n    //   currentPage: this.state.currentPage,\n    //   onPagination: this.onPagination,\n    //   onPageChange: this.onPageChange,\n    //   totalPages: totalPages < 1 ? 1 : totalPages\n    // };\n    // const data = [\n    //   {title:\"Nowshad\", description: \"Okajhsd\"},\n    //   {title:\"Nowshad\", description: \"Okajhsd\"},\n    //   {title:\"Nowshad\", description: \"Okajhsd\"},\n    //   {title:\"Nowshad\", description: \"Okajhsd\"},\n    //   {title:\"Nowshad\", description: \"Okajhsd\"},\n    //   {title:\"Nowshad\", description: \"Okajhsd\"},\n    // ]\n\n    let todoKey = 0;\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77\n      },\n      __self: this\n    }, React.createElement(PageLoader, {\n      inProgress: false,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78\n      },\n      __self: this\n    }), React.createElement(PageHeader, Object.assign({}, this.props, {\n      title: pageTitle,\n      actions: headerActions,\n      redirect: redirect,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"row todo-list\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86\n      },\n      __self: this\n    }, Data && Data.map(each => {\n      todoKey++;\n      return React.createElement(Todo, {\n        data: each,\n        key: todoKey,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 89\n        },\n        __self: this\n      });\n    })), !(Data && Data.length > 0) && React.createElement(DataNotFound, {\n      name: \"Todos\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92\n      },\n      __self: this\n    }));\n  }\n\n}\n\nTodos.propTypes = {\n  getTodosList: PropTypes.func.isRequired,\n  page: PropTypes.string.isRequired,\n  match: PropTypes.object.isRequired,\n  inProgress: PropTypes.bool.isRequired,\n  Data: PropTypes.object,\n  history: PropTypes.object.isRequired\n};\nTodos.defaultProps = {\n  Data: {}\n};\n\nconst mapStateToProps = state => ({\n  Data: state.todosReducerStore.data,\n  inProgress: state.todosReducerStore.inProgress\n});\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    getTodosList: (type, data) => {\n      dispatch(getActionsFormate(type, data));\n    },\n    resetState: type => {\n      dispatch(getActionsFormate(type));\n    }\n  };\n};\n\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)(Todos));","map":{"version":3,"sources":["/home/nowshad/Desktop/Todo/frontend/src/containers/Todos/Todos.jsx"],"names":["React","PropTypes","connect","withRouter","pageConfig","PageLoader","PageHeader","getActionsFormate","onPagination","onPageChange","DATA_NOT_FOUND","ACTIONS","Todo","DataNotFound","Todos","Component","constructor","props","fetchTodos","getTodosList","page","offset","state","currentPage","TODOS","GET_TODOS","limit","perPage","start","end","bind","componentDidMount","componentDidUpdate","prevProps","prevState","render","inProgress","Data","console","log","pageTitle","headerActions","redirect","todoKey","map","each","length","propTypes","func","isRequired","string","match","object","bool","history","defaultProps","mapStateToProps","todosReducerStore","data","mapDispatchToProps","dispatch","type","resetState"],"mappings":"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","sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport { withRouter } from 'react-router-dom';\nimport pageConfig from '../../utils/pageConfig';\nimport PageLoader from '../../components/PageLoader/PageLoader';\nimport PageHeader from '../../components/PageHeader/PageHeader';\nimport { getActionsFormate } from '../../utils/common';\nimport {\n  onPagination,\n  onPageChange,\n} from '../../utils/utils';\nimport { DATA_NOT_FOUND } from '../../utils/constants';\nimport ACTIONS from '../../apiConfig/actions.constants';\nimport Todo from '../../components/Todo/Todo';\nimport DataNotFound from '../../components/DataNotFound/DataNotFound';\n\nclass Todos extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      perPage: 10,\n      currentPage: 1,\n      start: 1,\n      end: 5\n    };\n    this.onPagination = onPagination.bind(this);\n    this.onPageChange = onPageChange.bind(this);\n  }\n\n  componentDidMount() {\n    this.fetchTodos();\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    if (this.state.currentPage !== prevState.currentPage) {\n      this.fetchTodos();\n    }\n  }\n\n  fetchTodos = () => {\n    const { getTodosList, page } = this.props;\n    const offset = (this.state.currentPage - 1) * 10;\n    getTodosList(ACTIONS.TODOS.GET_TODOS, {\n      limit: this.state.perPage,\n      offset,\n      page,\n    });\n  };\n\n  render() {\n    const { page, inProgress, Data } = this.props;\n    console.log(\"data:\", Data);\n    const { pageTitle, headerActions, redirect } = pageConfig[page];\n    // const totalPages =\n    //   Data && Data.pdf_storages\n    //     ? Math.ceil(Data.pdf_storages.count / this.state.perPage)\n    //     : 0;\n    // const paginationData = {\n    //   start: this.state.start,\n    //   end: totalPages > 5 ? this.state.end : totalPages,\n    //   currentPage: this.state.currentPage,\n    //   onPagination: this.onPagination,\n    //   onPageChange: this.onPageChange,\n    //   totalPages: totalPages < 1 ? 1 : totalPages\n    // };\n    // const data = [\n    //   {title:\"Nowshad\", description: \"Okajhsd\"},\n    //   {title:\"Nowshad\", description: \"Okajhsd\"},\n    //   {title:\"Nowshad\", description: \"Okajhsd\"},\n    //   {title:\"Nowshad\", description: \"Okajhsd\"},\n    //   {title:\"Nowshad\", description: \"Okajhsd\"},\n    //   {title:\"Nowshad\", description: \"Okajhsd\"},\n    // ]\n    let todoKey = 0;\n    return (\n      <div>\n        <PageLoader inProgress={false} />\n        <PageHeader\n          {...this.props}\n          title={pageTitle}\n          actions={headerActions}\n          redirect={redirect}\n        />\n        \n        <div className=\"row todo-list\">\n        {Data && Data.map(each=>{\n          todoKey++;\n          return <Todo data={each} key={todoKey}/>\n        })}\n        </div>\n        {!(Data && Data.length > 0) && <DataNotFound name={\"Todos\"} />}\n      </div>\n    );\n  }\n}\n\nTodos.propTypes = {\n  getTodosList: PropTypes.func.isRequired,\n  page: PropTypes.string.isRequired,\n  match: PropTypes.object.isRequired,\n  inProgress: PropTypes.bool.isRequired,\n  Data: PropTypes.object,\n  history: PropTypes.object.isRequired\n};\n\nTodos.defaultProps = {\n  Data: {}\n};\nconst mapStateToProps = state => ({\n  Data: state.todosReducerStore.data,\n  inProgress: state.todosReducerStore.inProgress\n});\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    getTodosList: (type, data) => {\n      dispatch(getActionsFormate(type, data));\n    },\n    resetState: type => {\n      dispatch(getActionsFormate(type));\n    }\n  };\n};\n\nexport default withRouter(\n  connect(\n    mapStateToProps,\n    mapDispatchToProps\n  )(Todos)\n);\n"]},"metadata":{},"sourceType":"module"}