{"ast":null,"code":"var _jsxFileName = \"/home/nowshad/Desktop/Company Projects/footprints/frontend/src/containers/GenerateQrCodes/GenerateQrCodes.jsx\";\nimport React from 'react';\nimport { connect } from 'react-redux';\nimport { withRouter } from 'react-router-dom';\nimport PropTypes from 'prop-types';\nimport GenerateQrCodesForm from '../../components/GenerateQrCodesForm/GenerateQrCodesForm';\nimport { PAGE } from '../../utils/constants';\nimport { getErrorResMsg } from '../../utils/formValidations';\nimport pageConfig from '../../utils/pageConfig';\nimport { getActionsFormate } from '../../utils/common';\nimport PageHeader from '../../components/PageHeader/PageHeader';\n\nclass GenerateQrCodes extends React.Component {\n  constructor(props) {\n    super(props);\n    this.ASSET_TYPE_FIELD_ID = 'asset-type';\n    this.QR_CODES_COUNT_FIELD_ID = 'qr-codes-count';\n\n    this.enableSubmit = (assetType, count) => {\n      const disabled = !(assetType.length > 0 && count.length > 0); // if (this.props.errorCode) {\n      //   const type = ACTIONS.USERS.RESET_STATE;\n      //   this.props.resetState(type);\n      //   this.setState({ errorCode: '' });\n      // }\n\n      this.setState({\n        disabled\n      });\n    };\n\n    this.handleChange = event => {\n      this.setState({\n        [event.target.id]: event.target.value,\n        formErrors: {}\n      }, () => this.enableSubmit(this.state[this.ASSET_TYPE_FIELD_ID], this.state[this.QR_CODES_COUNT_FIELD_ID]));\n    };\n\n    this.handleSubmit = event => {\n      event.preventDefault();\n      const data = {\n        \"asset_type\": Number(this.state[this.ASSET_TYPE_FIELD_ID]),\n        \"count\": Number(this.state[this.QR_CODES_COUNT_FIELD_ID])\n      };\n      const type = pageConfig[this.props.page].actions.postData;\n      this.props.submit(type, data);\n    };\n\n    this.state = {\n      formErrors: {},\n      formValidity: false,\n      [this.ASSET_TYPE_FIELD_ID]: '',\n      [this.QR_CODES_COUNT_FIELD_ID]: '',\n      errorCode: '',\n      disabled: true\n    };\n  }\n\n  static getDerivedStateFromProps(nextProps, prevState) {\n    const errorCode = nextProps.errorCode;\n\n    if (errorCode && errorCode !== prevState.errorCode) {\n      const errMsg = getErrorResMsg(errorCode, PAGE.ADD_QR_CODES);\n      return {\n        formErrors: errMsg,\n        errorCode\n      };\n    }\n\n    return prevState;\n  }\n\n  render() {\n    const _this$props = this.props,\n          generateQrCodesStore = _this$props.generateQrCodesStore,\n          page = _this$props.page;\n    const inProgress = generateQrCodesStore.inProgress,\n          data = generateQrCodesStore.data;\n    const pageTitle = pageConfig[page].pageTitle;\n    return React.createElement(\"div\", {\n      className: \"add-edit-user\",\n      id: \"add-edit-user-page\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83\n      },\n      __self: this\n    }, React.createElement(PageHeader, {\n      title: pageTitle,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84\n      },\n      __self: this\n    }), React.createElement(GenerateQrCodesForm, {\n      handleSubmit: this.handleSubmit,\n      handleChange: this.handleChange,\n      disabled: this.state.disabled,\n      assetTypeId: this.ASSET_TYPE_FIELD_ID,\n      assetTypeValue: this.state[this.ASSET_TYPE_FIELD_ID],\n      qrCodesCountId: this.QR_CODES_COUNT_FIELD_ID,\n      qrCodesCountValue: this.state[this.QR_CODES_COUNT_FIELD_ID],\n      inProgress: inProgress,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85\n      },\n      __self: this\n    }), data && data.file_url && React.createElement(\"div\", {\n      onClick: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95\n      },\n      __self: this\n    }, \"Show Qr Codes\"));\n  }\n\n}\n\nGenerateQrCodes.propTypes = {\n  page: PropTypes.string.isRequired,\n  submit: PropTypes.func.isRequired,\n  errorCode: PropTypes.oneOfType([PropTypes.string, PropTypes.number]).isRequired,\n  resetState: PropTypes.func.isRequired,\n  inProgress: PropTypes.bool.isRequired\n};\nGenerateQrCodes.defaultProps = {};\n\nconst mapStateToProps = state => ({\n  generateQrCodesStore: state.generateQrReducerStore\n});\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    submit: (type, data) => {\n      dispatch(getActionsFormate(type, data));\n    },\n    resetState: type => {\n      dispatch(getActionsFormate(type));\n    }\n  };\n};\n\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)(GenerateQrCodes));","map":{"version":3,"sources":["/home/nowshad/Desktop/Company Projects/footprints/frontend/src/containers/GenerateQrCodes/GenerateQrCodes.jsx"],"names":["React","connect","withRouter","PropTypes","GenerateQrCodesForm","PAGE","getErrorResMsg","pageConfig","getActionsFormate","PageHeader","GenerateQrCodes","Component","constructor","props","ASSET_TYPE_FIELD_ID","QR_CODES_COUNT_FIELD_ID","enableSubmit","assetType","count","disabled","length","setState","handleChange","event","target","id","value","formErrors","state","handleSubmit","preventDefault","data","Number","type","page","actions","postData","submit","formValidity","errorCode","getDerivedStateFromProps","nextProps","prevState","errMsg","ADD_QR_CODES","render","generateQrCodesStore","inProgress","pageTitle","file_url","propTypes","string","isRequired","func","oneOfType","number","resetState","bool","defaultProps","mapStateToProps","generateQrReducerStore","mapDispatchToProps","dispatch"],"mappings":"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","sourcesContent":["import React from 'react';\nimport { connect } from 'react-redux';\nimport { withRouter } from 'react-router-dom';\nimport PropTypes from 'prop-types';\nimport GenerateQrCodesForm from '../../components/GenerateQrCodesForm/GenerateQrCodesForm';\nimport { PAGE } from '../../utils/constants';\nimport { getErrorResMsg } from '../../utils/formValidations';\nimport pageConfig from '../../utils/pageConfig';\nimport { getActionsFormate } from '../../utils/common';\nimport PageHeader from '../../components/PageHeader/PageHeader';\n\nclass GenerateQrCodes extends React.Component {\n  ASSET_TYPE_FIELD_ID = 'asset-type';\n  \n  QR_CODES_COUNT_FIELD_ID = 'qr-codes-count';\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      formErrors: {},\n      formValidity: false,\n      [this.ASSET_TYPE_FIELD_ID]:'',\n      [this.QR_CODES_COUNT_FIELD_ID]: '',\n      errorCode: '',\n      disabled: true,\n      \n    };\n  }\n\n  static getDerivedStateFromProps(nextProps, prevState) {\n    const { errorCode } = nextProps;\n    if (errorCode && errorCode !== prevState.errorCode) {\n      const errMsg = getErrorResMsg(errorCode, PAGE.ADD_QR_CODES);\n      return { formErrors: errMsg, errorCode };\n    }\n    return prevState;\n  }\n\n  enableSubmit = (assetType, count) => {\n    const disabled = !(\n      assetType.length > 0 && count.length >0\n    );\n\n    // if (this.props.errorCode) {\n    //   const type = ACTIONS.USERS.RESET_STATE;\n    //   this.props.resetState(type);\n    //   this.setState({ errorCode: '' });\n    // }\n    this.setState({ disabled });\n  };\n\n  handleChange = event => {\n    this.setState(\n      {\n        [event.target.id]: event.target.value,\n        formErrors: {}\n      },\n      () =>\n        this.enableSubmit(\n          this.state[this.ASSET_TYPE_FIELD_ID],\n          this.state[this.QR_CODES_COUNT_FIELD_ID]\n        )\n    );\n  };\n\n  \n\n  handleSubmit = event => {\n    event.preventDefault();\n      const data = {\n        \"asset_type\": Number(this.state[this.ASSET_TYPE_FIELD_ID]),\n        \"count\": Number(this.state[this.QR_CODES_COUNT_FIELD_ID])\n    }\n      const type = pageConfig[this.props.page].actions.postData;\n      this.props.submit(type, data);\n  };\n\n  render() {\n    const { generateQrCodesStore, page } = this.props;\n    const { inProgress, data } = generateQrCodesStore;\n    const { pageTitle } = pageConfig[page];\n    return (\n      <div className=\"add-edit-user\" id=\"add-edit-user-page\">\n        <PageHeader title={pageTitle} />\n        <GenerateQrCodesForm\n          handleSubmit={this.handleSubmit}\n          handleChange={this.handleChange}\n          disabled={this.state.disabled}\n          assetTypeId={this.ASSET_TYPE_FIELD_ID}\n          assetTypeValue={this.state[this.ASSET_TYPE_FIELD_ID]}\n          qrCodesCountId={this.QR_CODES_COUNT_FIELD_ID}\n          qrCodesCountValue={this.state[this.QR_CODES_COUNT_FIELD_ID]}\n          inProgress={inProgress}\n        />\n        {data && data.file_url && <div onClick>\n          Show Qr Codes\n          </div>}\n      </div>\n    );\n  }\n}\n\nGenerateQrCodes.propTypes = {\n  page: PropTypes.string.isRequired,\n  submit: PropTypes.func.isRequired,\n  errorCode: PropTypes.oneOfType([PropTypes.string, PropTypes.number])\n    .isRequired,\n  resetState: PropTypes.func.isRequired,\n  inProgress: PropTypes.bool.isRequired\n};\n\nGenerateQrCodes.defaultProps = {};\n\nconst mapStateToProps = state => ({\n  generateQrCodesStore : state.generateQrReducerStore\n});\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    submit: (type, data) => {\n      dispatch(getActionsFormate(type, data));\n    },\n    resetState: type => {\n      dispatch(getActionsFormate(type));\n    }\n  };\n};\n\nexport default withRouter(\n  connect(\n    mapStateToProps,\n    mapDispatchToProps\n  )(GenerateQrCodes)\n);\n"]},"metadata":{},"sourceType":"module"}