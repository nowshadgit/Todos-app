{"ast":null,"code":"var _jsxFileName = \"/home/nowshad/Desktop/Company Projects/footprints/frontend/src/containers/Assets/Assets.jsx\";\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport { withRouter } from 'react-router-dom';\nimport pageConfig from '../../utils/pageConfig';\nimport PageLoader from '../../components/PageLoader/PageLoader';\nimport PageHeader from '../../components/PageHeader/PageHeader';\nimport Table from '../../components/Table/Table';\nimport { getActionsFormate } from '../../utils/common';\nimport { onPagination, onPageChange } from '../../utils/utils';\n\nclass Assets extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.showAssetDetails = QrId => {// console.log('This is QrID', QrId);\n    };\n\n    this.state = {\n      perPage: 10,\n      currentPage: 1,\n      start: 1,\n      end: 5\n    };\n    this.onPagination = onPagination.bind(this);\n    this.onPageChange = onPageChange.bind(this);\n  }\n\n  componentDidMount() {\n    const _this$props = this.props,\n          getAssetsList = _this$props.getAssetsList,\n          match = _this$props.match,\n          page = _this$props.page;\n    const actions = pageConfig[page].actions;\n    const params = match.params;\n    const type = actions && actions.fetchList;\n    getAssetsList(type, {\n      limit: this.state.perPage,\n      offset: 10\n    });\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    if (this.state.currentPage !== prevState.currentPage) {\n      const _this$props2 = this.props,\n            getAssetsList = _this$props2.getAssetsList,\n            match = _this$props2.match,\n            page = _this$props2.page;\n      const actions = pageConfig[page].actions;\n      const params = match.params;\n      const type = actions && actions.fetchList;\n      const offset = (this.state.currentPage - 1) * 10;\n      getAssetsList(type, {\n        limit: this.state.perPage,\n        offset: offset\n      });\n    }\n  }\n\n  render() {\n    const _this$props3 = this.props,\n          page = _this$props3.page,\n          inProgress = _this$props3.inProgress,\n          Data = _this$props3.Data;\n    const pageTitle = pageConfig[page].pageTitle;\n    const Theader = React.createElement(\"tr\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55\n      },\n      __self: this\n    }, React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56\n      },\n      __self: this\n    }, \"Asset\"), React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57\n      },\n      __self: this\n    }, \"Asset Type\"), React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58\n      },\n      __self: this\n    }, \"Submitted Date\"), React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59\n      },\n      __self: this\n    }, \"Due Date\"), React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60\n      },\n      __self: this\n    }, \"Status\"));\n    let customKey = 0;\n    const Tbody = Data && Data.results && Data.results.length > 0 && Data.results.map(each => {\n      const AssetType = each.asset_type,\n            DueDate = each.due_date,\n            QrId = each.qr_id,\n            Status = each.state,\n            SubmittedDate = each.submitted_date;\n      const submitedDate = SubmittedDate || '-';\n      customKey += 1;\n      return React.createElement(\"tr\", {\n        key: customKey,\n        onClick: eve => {\n          this.showAssetDetails(QrId);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 79\n        },\n        __self: this\n      }, React.createElement(\"td\", {\n        id: \"QrId\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 85\n        },\n        __self: this\n      }, QrId.slice(0, 7)), React.createElement(\"td\", {\n        id: \"asset-type\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 86\n        },\n        __self: this\n      }, AssetType), React.createElement(\"td\", {\n        id: \"submitted-date\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 87\n        },\n        __self: this\n      }, submitedDate), React.createElement(\"td\", {\n        id: \"due-date\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 88\n        },\n        __self: this\n      }, DueDate || '-'), React.createElement(\"td\", {\n        id: \"status\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 89\n        },\n        __self: this\n      }, Status));\n    });\n    const paginationData = {\n      start: this.state.start,\n      end: this.state.end,\n      currentPage: this.state.currentPage,\n      totalPages: Data ? Data.count / this.state.perPage : 0,\n      onPagination: this.onPagination,\n      onPageChange: this.onPageChange\n    };\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104\n      },\n      __self: this\n    }, React.createElement(PageLoader, {\n      inProgress: inProgress,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105\n      },\n      __self: this\n    }), React.createElement(PageHeader, Object.assign({}, this.props, {\n      title: pageTitle,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106\n      },\n      __self: this\n    })), React.createElement(Table, {\n      header: Theader,\n      body: Tbody,\n      paginationData: paginationData,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107\n      },\n      __self: this\n    }));\n  }\n\n}\n\nAssets.propTypes = {\n  getAssetsList: PropTypes.func.isRequired,\n  page: PropTypes.string.isRequired,\n  match: PropTypes.object.isRequired,\n  inProgress: PropTypes.bool.isRequired,\n  Data: PropTypes.object.isRequired\n};\n\nconst mapStateToProps = state => ({\n  Data: state.AssetsReducerStore.data,\n  inProgress: state.AssetsReducerStore.inProgress\n});\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    getAssetsList: (type, data) => {\n      dispatch(getActionsFormate(type, data));\n    },\n    resetState: type => {\n      dispatch(getActionsFormate(type));\n    }\n  };\n};\n\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)(Assets));","map":{"version":3,"sources":["/home/nowshad/Desktop/Company Projects/footprints/frontend/src/containers/Assets/Assets.jsx"],"names":["React","PropTypes","connect","withRouter","pageConfig","PageLoader","PageHeader","Table","getActionsFormate","onPagination","onPageChange","Assets","Component","constructor","props","showAssetDetails","QrId","state","perPage","currentPage","start","end","bind","componentDidMount","getAssetsList","match","page","actions","params","type","fetchList","limit","offset","componentDidUpdate","prevProps","prevState","render","inProgress","Data","pageTitle","Theader","customKey","Tbody","results","length","map","each","AssetType","asset_type","DueDate","due_date","qr_id","Status","SubmittedDate","submitted_date","submitedDate","eve","slice","paginationData","totalPages","count","propTypes","func","isRequired","string","object","bool","mapStateToProps","AssetsReducerStore","data","mapDispatchToProps","dispatch","resetState"],"mappings":"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","sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport { withRouter } from 'react-router-dom';\nimport pageConfig from '../../utils/pageConfig';\nimport PageLoader from '../../components/PageLoader/PageLoader';\nimport PageHeader from '../../components/PageHeader/PageHeader';\nimport Table from '../../components/Table/Table';\nimport { getActionsFormate } from '../../utils/common';\nimport { onPagination, onPageChange } from '../../utils/utils';\n\nclass Assets extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      perPage: 10,\n      currentPage: 1,\n      start: 1,\n      end: 5\n    };\n    this.onPagination = onPagination.bind(this);\n    this.onPageChange = onPageChange.bind(this);\n  }\n\n  componentDidMount() {\n    const { getAssetsList, match, page } = this.props;\n    const { actions } = pageConfig[page];\n    const { params } = match;\n    const type = actions && actions.fetchList;\n    getAssetsList(type, { limit: this.state.perPage, offset: 10 });\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    if (this.state.currentPage !== prevState.currentPage) {\n      const { getAssetsList, match, page } = this.props;\n      const { actions } = pageConfig[page];\n      const { params } = match;\n      const type = actions && actions.fetchList;\n      const offset = (this.state.currentPage - 1) * 10;\n      getAssetsList(type, {\n        limit: this.state.perPage,\n        offset: offset\n      });\n    }\n  }\n\n  showAssetDetails = QrId => {\n    // console.log('This is QrID', QrId);\n  };\n\n  render() {\n    const { page, inProgress, Data } = this.props;\n    const { pageTitle } = pageConfig[page];\n    const Theader = (\n      <tr>\n        <th>Asset</th>\n        <th>Asset Type</th>\n        <th>Submitted Date</th>\n        <th>Due Date</th>\n        <th>Status</th>\n      </tr>\n    );\n    let customKey = 0;\n    const Tbody =\n      Data &&\n      Data.results &&\n      Data.results.length > 0 &&\n      Data.results.map(each => {\n        const {\n          asset_type: AssetType,\n          due_date: DueDate,\n          qr_id: QrId,\n          state: Status,\n          submitted_date: SubmittedDate\n        } = each;\n        const submitedDate = SubmittedDate || '-'\n        customKey += 1;\n        return (\n          <tr\n            key={customKey}\n            onClick={eve => {\n              this.showAssetDetails(QrId);\n            }}\n          >\n            <td id=\"QrId\">{QrId.slice(0, 7)}</td>\n            <td id=\"asset-type\">{AssetType}</td>\n            <td id=\"submitted-date\">{submitedDate}</td>\n            <td id=\"due-date\">{DueDate || '-'}</td>\n            <td id=\"status\">{Status}</td>\n          </tr>\n        );\n      });\n\n    const paginationData = {\n      start: this.state.start,\n      end: this.state.end,\n      currentPage: this.state.currentPage,\n      totalPages: Data ? Data.count / this.state.perPage : 0,\n      onPagination: this.onPagination,\n      onPageChange: this.onPageChange\n    };\n\n    return (\n      <div>\n        <PageLoader inProgress={inProgress} />\n        <PageHeader {...this.props} title={pageTitle} />\n        <Table header={Theader} body={Tbody} paginationData={paginationData} />\n      </div>\n    );\n  }\n}\n\nAssets.propTypes = {\n  getAssetsList: PropTypes.func.isRequired,\n  page: PropTypes.string.isRequired,\n  match: PropTypes.object.isRequired,\n  inProgress: PropTypes.bool.isRequired,\n  Data: PropTypes.object.isRequired\n};\n\nconst mapStateToProps = state => ({\n  Data: state.AssetsReducerStore.data,\n  inProgress: state.AssetsReducerStore.inProgress\n});\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    getAssetsList: (type, data) => {\n      dispatch(getActionsFormate(type, data));\n    },\n    resetState: type => {\n      dispatch(getActionsFormate(type));\n    }\n  };\n};\n\nexport default withRouter(\n  connect(\n    mapStateToProps,\n    mapDispatchToProps\n  )(Assets)\n);\n"]},"metadata":{},"sourceType":"module"}