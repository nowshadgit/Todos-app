{"ast":null,"code":"import _defineProperty from \"/home/nowshad/Desktop/Company Projects/footprints/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nvar _jsxFileName = \"/home/nowshad/Desktop/Company Projects/footprints/frontend/src/containers/Details/Details.jsx\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(source, true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(source).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport { withRouter } from 'react-router-dom';\nimport './Details.scss';\nimport { getActionsFormate } from '../../utils/common';\nimport pageConfig from '../../utils/pageConfig';\nimport PageHeader from '../../components/PageHeader/PageHeader';\nimport { PAGE } from '../../utils/constants';\nimport ACTIONS from '../../apiConfig/actions.constants';\n\nclass Details extends React.Component {\n  componentDidMount() {\n    const _this$props = this.props,\n          getDetials = _this$props.getDetials,\n          match = _this$props.match,\n          page = _this$props.page;\n    const actions = pageConfig[page].actions;\n    const params = match.params;\n    const type = actions && actions.fetchDetails;\n    getDetials(type, _objectSpread({}, params));\n  }\n\n  componentDidUpdate(prevProps) {\n    if (prevProps.match.url !== this.props.match.url) {\n      const type = ACTIONS.DETAILS.RESET_STATE;\n      this.props.resetState(type);\n    }\n  }\n\n  render() {\n    const _this$props2 = this.props,\n          page = _this$props2.page,\n          Data = _this$props2.Data;\n    const _pageConfig$page = pageConfig[page],\n          pageTitle = _pageConfig$page.pageTitle,\n          headerActions = _pageConfig$page.headerActions,\n          Component = _pageConfig$page.component,\n          redirect = _pageConfig$page.redirect;\n    const fullName = page === PAGE.USER_DETAILS && Data && (Data.first_name || Data.last_name) ? \"\".concat(Data.first_name, \" \").concat(Data.last_name) : '';\n    const assetAttributeTitle = page === PAGE.ASSET_ATTRIBUTES_DETAILS && Data ? Data.name : '';\n    const assetTypeTitle = page === PAGE.ASSET_TYPES_DETAILS && Data ? Data.doc_type : '';\n    return React.createElement(\"div\", {\n      className: \"details\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 42\n      },\n      __self: this\n    }, React.createElement(PageHeader, Object.assign({}, this.props, {\n      title: fullName || assetAttributeTitle || assetTypeTitle || pageTitle,\n      actions: headerActions,\n      redirect: redirect,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 43\n      },\n      __self: this\n    })), React.createElement(Component, Object.assign({}, this.props, {\n      Data: Data,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 49\n      },\n      __self: this\n    })));\n  }\n\n}\n\nDetails.propTypes = {\n  Data: PropTypes.oneOfType([PropTypes.array, PropTypes.object]).isRequired,\n  getDetials: PropTypes.func.isRequired,\n  page: PropTypes.string.isRequired,\n  match: PropTypes.object.isRequired,\n  redirect: PropTypes.func.isRequired\n};\n\nconst mapStateToProps = state => ({\n  Data: state.DetailsReducerStore.data\n});\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    getDetials: (type, data) => {\n      dispatch(getActionsFormate(type, data));\n    },\n    resetState: type => {\n      dispatch(getActionsFormate(type));\n    }\n  };\n};\n\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)(Details));","map":{"version":3,"sources":["/home/nowshad/Desktop/Company Projects/footprints/frontend/src/containers/Details/Details.jsx"],"names":["React","PropTypes","connect","withRouter","getActionsFormate","pageConfig","PageHeader","PAGE","ACTIONS","Details","Component","componentDidMount","props","getDetials","match","page","actions","params","type","fetchDetails","componentDidUpdate","prevProps","url","DETAILS","RESET_STATE","resetState","render","Data","pageTitle","headerActions","component","redirect","fullName","USER_DETAILS","first_name","last_name","assetAttributeTitle","ASSET_ATTRIBUTES_DETAILS","name","assetTypeTitle","ASSET_TYPES_DETAILS","doc_type","propTypes","oneOfType","array","object","isRequired","func","string","mapStateToProps","state","DetailsReducerStore","data","mapDispatchToProps","dispatch"],"mappings":"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","sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport { withRouter } from 'react-router-dom';\nimport './Details.scss';\nimport { getActionsFormate } from '../../utils/common';\nimport pageConfig from '../../utils/pageConfig';\nimport PageHeader from '../../components/PageHeader/PageHeader';\nimport { PAGE } from '../../utils/constants';\nimport ACTIONS from '../../apiConfig/actions.constants';\n\nclass Details extends React.Component {\n  componentDidMount() {\n    const { getDetials, match, page } = this.props;\n    const { actions } = pageConfig[page];\n    const { params } = match;\n    const type = actions && actions.fetchDetails;\n    getDetials(type, { ...params });\n    \n  }\n\n  componentDidUpdate(prevProps) {\n    if (prevProps.match.url !== this.props.match.url) {\n      const type = ACTIONS.DETAILS.RESET_STATE;\n      this.props.resetState(type);\n    }\n  }\n\n  render() {\n    const { page, Data } = this.props;\n    const { pageTitle, headerActions, component: Component, redirect } = pageConfig[page];\n    const fullName =\n      page === PAGE.USER_DETAILS && Data && (Data.first_name || Data.last_name)\n        ? `${Data.first_name} ${Data.last_name}`\n        : '';\n    const assetAttributeTitle =\n      page === PAGE.ASSET_ATTRIBUTES_DETAILS && Data ? Data.name : '';\n    const assetTypeTitle =\n      page === PAGE.ASSET_TYPES_DETAILS && Data ? Data.doc_type : '';\n    \n    return (\n      <div className=\"details\">\n        <PageHeader\n         {...this.props}\n          title={fullName || assetAttributeTitle || assetTypeTitle || pageTitle}\n          actions={headerActions}\n          redirect={redirect}\n        />\n        <Component {...this.props} Data={Data} />\n      </div>\n    );\n  }\n}\n\nDetails.propTypes = {\n  Data: PropTypes.oneOfType([PropTypes.array, PropTypes.object]).isRequired,\n  getDetials: PropTypes.func.isRequired,\n  page: PropTypes.string.isRequired,\n  match: PropTypes.object.isRequired,\n  redirect: PropTypes.func.isRequired\n};\n\nconst mapStateToProps = state => ({\n  Data: state.DetailsReducerStore.data\n});\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    getDetials: (type, data) => {\n      dispatch(getActionsFormate(type, data));\n    },\n    resetState: (type) => {\n      dispatch(getActionsFormate(type))\n    }\n  };\n};\n\nexport default withRouter(\n  connect(\n    mapStateToProps,\n    mapDispatchToProps\n  )(Details)\n);\n"]},"metadata":{},"sourceType":"module"}